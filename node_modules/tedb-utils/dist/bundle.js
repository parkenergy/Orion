module.exports =
/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./src/index.ts");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./src/UTCtoLocaleDate.ts":
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const addHours_1 = __webpack_require__("./src/addHours.ts");
exports.UTCtoLocaleDate = (date) => {
    return addHours_1.addHours(date.toUTCString(), new Date().getTimezoneOffset() / 60);
};


/***/ }),

/***/ "./src/addHours.ts":
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
exports.addHours = (d, h) => new Date(new Date(d).setTime(new Date(d).getTime() + (h * 60 * 60 * 1000)));


/***/ }),

/***/ "./src/compressObj.ts":
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
exports.compressObj = (obj, tgt = {}, path = []) => {
    Object.keys(obj).forEach((key) => {
        if (Object(obj[key]) === obj[key] &&
            (Object.prototype.toString.call(obj[key]) === "[object Object]") ||
            (Object.prototype.toString.call(obj[key]) === "[object Array]")) {
            return exports.compressObj(obj[key], tgt, path.concat(key));
        }
        else {
            tgt[path.concat(key).join(".")] = obj[key];
        }
    });
    return tgt;
};


/***/ }),

/***/ "./src/dateToUTC.ts":
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
exports.dateToUTC = (date) => {
    return new Date(Date.UTC(date.getFullYear(), date.getMonth(), date.getDate(), date.getHours(), date.getMinutes(), date.getSeconds(), date.getMilliseconds()));
};


/***/ }),

/***/ "./src/debounce.ts":
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
function debounce(fn, wait) {
    let inDebounce;
    return function (...args) {
        const context = this;
        clearTimeout(inDebounce);
        inDebounce = setTimeout(() => fn.apply(context, args), wait);
    };
}
exports.debounce = debounce;
;


/***/ }),

/***/ "./src/expandObj.ts":
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const isIndex = (k) => {
    return /^\d+/.test(k);
};
const fill = (arr, obj, value) => {
    const k = arr.shift();
    if (arr.length > 0) {
        obj[k] = obj[k] || (isIndex(arr[0]) ? [] : {});
        fill(arr, obj[k], value);
    }
    else {
        obj[k] = value;
    }
};
exports.expandObj = (obj) => {
    Object.keys(obj).forEach((k) => {
        if (k.indexOf(".") !== -1) {
            fill(k.split("."), obj, obj[k]);
            delete obj[k];
        }
    });
    return obj;
};


/***/ }),

/***/ "./src/findObjArrIndex.ts":
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const getObjValue_1 = __webpack_require__("./src/getObjValue.ts");
function findObjArrIndex(objs, path, value) {
    return objs.reduce((acc, cur, ind) => {
        if (getObjValue_1.getObjValue(cur, path) === value) {
            return ind;
        }
        else {
            return acc;
        }
    }, 0);
}
exports.findObjArrIndex = findObjArrIndex;


/***/ }),

/***/ "./src/flattenArr.ts":
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
function flattenArr(arr) {
    const toString = Object.prototype.toString;
    const arrayTypeStr = "[object Array]";
    const result = [];
    const nodes = arr.slice();
    let node;
    if (!arr.length) {
        return result;
    }
    node = nodes.pop();
    do {
        if (toString.call(node) === arrayTypeStr) {
            nodes.push.apply(nodes, node);
        }
        else {
            result.push(node);
        }
    } while (nodes.length && (node = nodes.pop()) !== undefined);
    result.reverse();
    return result;
}
exports.flattenArr = flattenArr;


/***/ }),

/***/ "./src/getArrDups.ts":
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
exports.getArrDups = (arr1, arr2) => {
    return arr1.filter((val) => arr2.indexOf(val) !== -1);
};


/***/ }),

/***/ "./src/getObjValue.ts":
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
exports.getObjValue = (obj, path) => {
    return path.split(".").reduce((o, i) => {
        if (o !== undefined) {
            return o[i];
        }
    }, obj);
};


/***/ }),

/***/ "./src/index.ts":
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var rmArrDups_1 = __webpack_require__("./src/rmArrDups.ts");
exports.rmArrDups = rmArrDups_1.rmArrDups;
var flattenArr_1 = __webpack_require__("./src/flattenArr.ts");
exports.flattenArr = flattenArr_1.flattenArr;
var getArrDups_1 = __webpack_require__("./src/getArrDups.ts");
exports.getArrDups = getArrDups_1.getArrDups;
var range_1 = __webpack_require__("./src/range.ts");
exports.range = range_1.range;
var saveArrDups_1 = __webpack_require__("./src/saveArrDups.ts");
exports.saveArrDups = saveArrDups_1.saveArrDups;
var getObjValue_1 = __webpack_require__("./src/getObjValue.ts");
exports.getObjValue = getObjValue_1.getObjValue;
var rmArrObjDups_1 = __webpack_require__("./src/rmArrObjDups.ts");
exports.rmArrObjDups = rmArrObjDups_1.rmArrObjDups;
var isEmpty_1 = __webpack_require__("./src/isEmpty.ts");
exports.isEmpty = isEmpty_1.isEmpty;
var expandObj_1 = __webpack_require__("./src/expandObj.ts");
exports.expandObj = expandObj_1.expandObj;
var compressObj_1 = __webpack_require__("./src/compressObj.ts");
exports.compressObj = compressObj_1.compressObj;
var debounce_1 = __webpack_require__("./src/debounce.ts");
exports.debounce = debounce_1.debounce;
var findObjArrIndex_1 = __webpack_require__("./src/findObjArrIndex.ts");
exports.findObjArrIndex = findObjArrIndex_1.findObjArrIndex;
var setObjValue_1 = __webpack_require__("./src/setObjValue.ts");
exports.setObjValue = setObjValue_1.setObjValue;
var dateToUTC_1 = __webpack_require__("./src/dateToUTC.ts");
exports.dateToUTC = dateToUTC_1.dateToUTC;
var addHours_1 = __webpack_require__("./src/addHours.ts");
exports.addHours = addHours_1.addHours;
var UTCtoLocaleDate_1 = __webpack_require__("./src/UTCtoLocaleDate.ts");
exports.UTCtoLocaleDate = UTCtoLocaleDate_1.UTCtoLocaleDate;


/***/ }),

/***/ "./src/isEmpty.ts":
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
exports.isEmpty = (obj) => {
    if (!obj && obj !== 0) {
        return true;
    }
    return (!(typeof (obj) === "number") && !Object.keys(obj).length && Object.prototype.toString.call(obj) !== '[object Date]');
};


/***/ }),

/***/ "./src/range.ts":
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const numRange = (start, end) => {
    const total = [];
    if (start < end) {
        for (let i = end; i >= start; i--) {
            total.push(i);
        }
    }
    else if (start > end) {
        for (let i = start; i >= end; i--) {
            total.push(i);
        }
    }
    else {
        total.push(start);
    }
    return total;
};
const utf8Range = (start, end) => {
    const all = [];
    const s = typeof start === "string" ? start.charCodeAt(0) : start;
    const e = typeof end === "string" ? end.charCodeAt(0) : end;
    if (s < e) {
        for (let i = s; i <= e; i++) {
            all.push(String.fromCharCode(i));
        }
    }
    else if (s > e) {
        for (let i = s; i >= e; i--) {
            all.push(String.fromCharCode(i));
        }
    }
    else {
        all.push(String.fromCharCode(s));
    }
    return all;
};
exports.range = (start, end) => {
    let all = [];
    if (typeof start === "string" && typeof end === "string") {
        all = utf8Range(start, end);
    }
    else if (typeof start === "number" && typeof end === "number") {
        all = numRange(start, end);
    }
    else {
        throw new Error("Did not supply matching types number or string.");
    }
    return all;
};


/***/ }),

/***/ "./src/rmArrDups.ts":
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
function rmArrDups(arr) {
    const seen = {};
    const ret = [];
    for (let i = 0; i < arr.length; i++) {
        if (!(arr[i] in seen)) {
            ret.push(arr[i]);
            seen[arr[i]] = true;
        }
    }
    return ret;
}
exports.rmArrDups = rmArrDups;


/***/ }),

/***/ "./src/rmArrObjDups.ts":
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
exports.rmArrObjDups = (arr, field) => {
    return arr.filter((obj, pos, ray) => {
        return (pos === ray.findIndex((t) => {
            return t[field] === obj[field];
        }));
    });
};


/***/ }),

/***/ "./src/saveArrDups.ts":
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const getArrDups_1 = __webpack_require__("./src/getArrDups.ts");
exports.saveArrDups = (arr) => {
    return new Promise((resolve, reject) => {
        let clear = false;
        const val = arr.reduce((init, item, index) => {
            if (init.length === 0) {
                if (clear) {
                    return init.concat([]);
                }
                else if (item.length === 0) {
                    clear = true;
                    return init.concat([]);
                }
                else if (index === 0) {
                    return init.concat(item);
                }
                else {
                    clear = true;
                    return [];
                }
            }
            else {
                if (item.length === 0) {
                    clear = true;
                    return [];
                }
                else {
                    return getArrDups_1.getArrDups(init, item);
                }
            }
        }, []);
        resolve(val);
    });
};


/***/ }),

/***/ "./src/setObjValue.ts":
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
exports.setObjValue = (obj, path, value) => {
    if (typeof path === 'string') {
        return exports.setObjValue(obj, path.split('.'), value);
    }
    else if (path.length === 1) {
        return obj[path[0]] = value;
    }
    else if (path.length === 0) {
        return obj;
    }
    else {
        return exports.setObjValue(obj[path[0]], path.slice(1), value);
    }
};


/***/ })

/******/ });
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAgZGQ3Nzk0YTMxNWNmNGExYzViZGYiLCJ3ZWJwYWNrOi8vLy4vc3JjL1VUQ3RvTG9jYWxlRGF0ZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvYWRkSG91cnMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXByZXNzT2JqLnRzIiwid2VicGFjazovLy8uL3NyYy9kYXRlVG9VVEMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2RlYm91bmNlLnRzIiwid2VicGFjazovLy8uL3NyYy9leHBhbmRPYmoudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2ZpbmRPYmpBcnJJbmRleC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZmxhdHRlbkFyci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZ2V0QXJyRHVwcy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZ2V0T2JqVmFsdWUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2luZGV4LnRzIiwid2VicGFjazovLy8uL3NyYy9pc0VtcHR5LnRzIiwid2VicGFjazovLy8uL3NyYy9yYW5nZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvcm1BcnJEdXBzLnRzIiwid2VicGFjazovLy8uL3NyYy9ybUFyck9iakR1cHMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NhdmVBcnJEdXBzLnRzIiwid2VicGFjazovLy8uL3NyYy9zZXRPYmpWYWx1ZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOzs7QUFHQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBMkIsMEJBQTBCLEVBQUU7QUFDdkQseUNBQWlD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QUM7QUFDUCxDQUFDLENBQUM7Ozs7Ozs7Ozs7O0FDMUNXLG1CQUFXLEdBQUcsQ0FBQyxHQUFRLEVBQUUsSUFBUyxFQUFFLEtBQVUsRUFBTyxFQUFFO0lBQ2hFLEVBQUUsQ0FBQyxDQUFDLE9BQU8sSUFBSSxLQUFLLFFBQVEsQ0FBQyxDQUFDLENBQUM7UUFDM0IsTUFBTSxDQUFDLG1CQUFXLENBQUMsR0FBRyxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLEVBQUUsS0FBSyxDQUFDLENBQUM7SUFDcEQsQ0FBQztJQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsTUFBTSxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDM0IsTUFBTSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxLQUFLLENBQUM7SUFDaEMsQ0FBQztJQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsTUFBTSxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDM0IsTUFBTSxDQUFDLEdBQUcsQ0FBQztJQUNmLENBQUM7SUFBQyxJQUFJLENBQUMsQ0FBQztRQUNKLE1BQU0sQ0FBQyxtQkFBVyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxFQUFFLEtBQUssQ0FBQyxDQUFDO0lBQzNELENBQUM7QUFDTCxDQUFDLENBQUMiLCJmaWxlIjoiYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7XG4gXHRcdFx0XHRjb25maWd1cmFibGU6IGZhbHNlLFxuIFx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcbiBcdFx0XHRcdGdldDogZ2V0dGVyXG4gXHRcdFx0fSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gXCIuL3NyYy9pbmRleC50c1wiKTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWJwYWNrL2Jvb3RzdHJhcCBkZDc3OTRhMzE1Y2Y0YTFjNWJkZiIsImltcG9ydCB7YWRkSG91cnN9IGZyb20gJy4vYWRkSG91cnMnO1xuLyoqXG4gKiBEYXRlIHNob3VsZCBiZSB0aGUgbmV3IERhdGUoJ2Zyb20gc2VydmVyIHN0cmluZyBkYXRlJylcbiAqIHRoYXQgZ2V0cyBjb252ZXJ0ZWQgdG8gbG9jYWwgdGltZSB3aGljaCB3aWxsIGJlIG9mZi5cbiAqIFNpbmNlIHRoZSBzZXJ2ZXIgd2lsbCBzZW5kIGJhY2sgdGhlIHJpZ2h0IHRpbWUgYnV0IHdpdGggdGhlIFVUQ1xuICogYXMgR01UKzAwMDAgKFVUQykgd2UgbmVlZCB0byBhZGQgdGhlIGhvdXIgb2Zmc2V0IGJlY2F1c2UgYSBuZXcgZGF0ZVxuICogd2lsbCBjcmVhdGUgdGhlIHJpZ2h0IHRpbWUgYnV0IHdpdGggdGhlIGhvdXIgb2Zmc2V0LiBOb3cgdGhpcyB3aWxsXG4gKiBjb252ZXJ0IGl0IGNvcnJlY3RseS5cbiAqIEBwYXJhbSB7RGF0ZX0gZGF0ZVxuICogQHJldHVybnMge0RhdGV9XG4gKiBAY29uc3RydWN0b3JcbiAqL1xuZXhwb3J0IGNvbnN0IFVUQ3RvTG9jYWxlRGF0ZSA9IChkYXRlOiBEYXRlKTogRGF0ZSA9PiB7XG4gICAgcmV0dXJuIGFkZEhvdXJzKGRhdGUudG9VVENTdHJpbmcoKSwgbmV3IERhdGUoKS5nZXRUaW1lem9uZU9mZnNldCgpIC8gNjApO1xufTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9VVEN0b0xvY2FsZURhdGUudHMiLCIvKipcbiAqIEFkZCBIb3VycyB0byBhIGRhdGUgLT4gdGhlIGhvdXJzIGlmIGVub3VnaCB3aWxsIGFsc28gcHVzaCB0aGUgZGF0ZSBmb3J3YXJkXG4gKiBvciBiYWNrd2FyZHMuXG4gKiBAcGFyYW0ge3N0cmluZ30gZFxuICogQHBhcmFtIHtudW1iZXJ9IGhcbiAqIEByZXR1cm5zIHtEYXRlfVxuICovXG5leHBvcnQgY29uc3QgYWRkSG91cnMgPSAoZDogc3RyaW5nLCBoOiBudW1iZXIpOiBEYXRlID0+IG5ldyBEYXRlKG5ldyBEYXRlKGQpLnNldFRpbWUobmV3IERhdGUoZCkuZ2V0VGltZSgpICsgKGggKiA2MCAqIDYwICogMTAwMCkpKTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9hZGRIb3Vycy50cyIsIi8qKlxuICogQ29tcHJlc3MgYW4gb2JqZWN0IGludG8gc3RyaW5nIG5vdGF0aW9uLiBVc2VkIHdpdGggVGVEQidzIGluZGV4aW5nXG4gKlxuICogRXhhbXBsZVxuICogfn5+XG4gKiBjb25zdCBkb2MgPSB7XG4gKiAgICAgbmVzdGVkOiB7XG4gKiAgICAgICAgIG9iajoge1xuICogICAgICAgICAgICAgaXM6IFwiZnVsbFwiLFxuICogICAgICAgICB9LFxuICogICAgICAgICBudW06IDMsXG4gKiAgICAgfSxcbiAqICAgICB0Z3Q6IFsxLCAyXSxcbiAqIH1cbiAqIGNvbnN0IHRhcmdldDogYW55ID0ge307XG4gKiBjb21wcmVzc09iaihkb2MsIHRhcmdldCk7XG4gKiBjb25zb2xlLmxvZyh0YXJnZXQpO1xuICogLy8ge1xuICogLy8gICAgXCJuZXN0ZWQub2JqLmlzXCI6IFwiZnVsbFwiLFxuICogLy8gICAgXCJuZXN0ZWQubnVtXCI6IDMsXG4gKiAvLyAgICBcInRndC4wXCI6IDEsXG4gKiAvLyAgICBcInRndC4xXCI6IDIsXG4gKiAvLyB9XG4gKiB+fn5cbiAqXG4gKiBAcGFyYW0gb2JqXG4gKiBAcGFyYW0gdGd0XG4gKiBAcGFyYW0ge2FueVtdfSBwYXRoXG4gKiBAcmV0dXJucyB7YW55fVxuICovXG5leHBvcnQgY29uc3QgY29tcHJlc3NPYmogPSAob2JqOiBhbnksIHRndDogYW55ID0ge30sIHBhdGg6IGFueVtdID0gW10pID0+IHtcbiAgICBPYmplY3Qua2V5cyhvYmopLmZvckVhY2goKGtleSkgPT4ge1xuICAgICAgICBpZiAoT2JqZWN0KG9ialtrZXldKSA9PT0gb2JqW2tleV0gJiZcbiAgICAgICAgICAgIChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwob2JqW2tleV0pID09PSBcIltvYmplY3QgT2JqZWN0XVwiKSB8fFxuICAgICAgICAgICAgKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvYmpba2V5XSkgPT09IFwiW29iamVjdCBBcnJheV1cIilcbiAgICAgICAgKSB7XG4gICAgICAgICAgICByZXR1cm4gY29tcHJlc3NPYmoob2JqW2tleV0sIHRndCwgcGF0aC5jb25jYXQoa2V5KSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0Z3RbcGF0aC5jb25jYXQoa2V5KS5qb2luKFwiLlwiKV0gPSBvYmpba2V5XTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiB0Z3Q7XG59O1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2NvbXByZXNzT2JqLnRzIiwiLyoqXG4gKiBUaGlzIG1ldGhvZCBjb252ZXJ0cyBhIGRhdGUgdG8gd2hhdCB0aGUgc2VydmVyIHdpbGwgcmVhZCBpbiB1dGMgdGltZS5cbiAqIFNpbmNlIHRoZSBzZXJ2ZXIgVGltZSBab25lIG9mZnNldCBpcyAwLlxuICogVGhpcyBtZXRob2QgcHJlc2VydmVzIHRoZSBsb2NhbCB0aW1lIGJ5IHNlbmRpbmcgaXQgdG8gdGhlIHNlcnZlciB3aGljaFxuICogdGhlbiBjb252ZXJ0cyBpdCB0byBVVEMgdGltZSB3aGljaCB3aWxsIGFkZCB0aGUgYXBwcm9wcmlhdGUgdGltZS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBkYXRlXG4gKiBAcmV0dXJucyB7RGF0ZX1cbiAqL1xuZXhwb3J0IGNvbnN0IGRhdGVUb1VUQyA9IChkYXRlOiBEYXRlKTogRGF0ZSA9PiB7XG4gICAgcmV0dXJuIG5ldyBEYXRlKERhdGUuVVRDKGRhdGUuZ2V0RnVsbFllYXIoKSwgZGF0ZS5nZXRNb250aCgpLCBkYXRlLmdldERhdGUoKSwgZGF0ZS5nZXRIb3VycygpLCBkYXRlLmdldE1pbnV0ZXMoKSwgZGF0ZS5nZXRTZWNvbmRzKCksIGRhdGUuZ2V0TWlsbGlzZWNvbmRzKCkpKTtcbn07XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvZGF0ZVRvVVRDLnRzIiwiZXhwb3J0IGZ1bmN0aW9uIGRlYm91bmNlKGZuOiBhbnksIHdhaXQ6IG51bWJlcikge1xuICAgIGxldCBpbkRlYm91bmNlOiBhbnk7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKHRoaXM6IGFueSwgLi4uYXJnczogYW55W10pIHtcbiAgICAgICAgY29uc3QgY29udGV4dDogYW55ID0gdGhpcztcbiAgICAgICAgY2xlYXJUaW1lb3V0KGluRGVib3VuY2UpO1xuICAgICAgICBpbkRlYm91bmNlID0gc2V0VGltZW91dCgoKSA9PiBmbi5hcHBseShjb250ZXh0LCBhcmdzKSwgd2FpdCk7XG4gICAgfTtcbn07XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvZGVib3VuY2UudHMiLCJjb25zdCBpc0luZGV4ID0gKGs6IGFueSkgPT4ge1xuICAgIHJldHVybiAvXlxcZCsvLnRlc3Qoayk7XG59O1xuXG5jb25zdCBmaWxsID0gKGFycjogYW55W10sIG9iajogYW55LCB2YWx1ZTogYW55KSA9PiB7XG4gICAgY29uc3QgayA9IGFyci5zaGlmdCgpO1xuICAgIC8vIGsgaXMgdGhlIGZpcnN0IGVsZW1lbnQsIHdoaWNoIGlzIHRha2VuIGF3YXkgZnJvbSBhcnJcbiAgICBpZiAoYXJyLmxlbmd0aCA+IDApIHtcbiAgICAgICAgLy8gYXJyIGlzIGVtcHR5IG1ha2UgdGhlIGxhc3QgdmFsdWUgYW4gb2JqZWN0IGFuZCBpdCBiYWNrIHRocm91Z2guXG4gICAgICAgIC8vIHdoaWNoIHdpbGwgY3JlYXRlIHRoZSB7bmFtZTogeyBvZjogeyBuZXN0ZWQ6XG4gICAgICAgIG9ialtrXSA9IG9ialtrXSB8fCAoaXNJbmRleChhcnJbMF0pID8gW10gOiB7fSk7XG4gICAgICAgIC8vIG5lZWQgb2JqW2tdIGhlcmUgdG8gaGF2ZSBtdWx0aXBsZSB2YWx1ZSBpbiBvbmUgbmVzdGluZ1xuICAgICAgICAvLyBmb3IgZXhhbXBsZToge3ZhbHVlOiB7b25lOiAxLCB0d286IDJ9fVxuICAgICAgICBmaWxsKGFyciwgb2JqW2tdLCB2YWx1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgLy8gZmluYWxseSBzZXQgZmluYWwgdmFsdWVcbiAgICAgICAgb2JqW2tdID0gdmFsdWU7XG4gICAgfVxufTtcblxuLyoqXG4gKiBFeHBhbmQgYSBkb3Qgbm90YXRlZCBzdHJpbmcgb2JqZWN0IGludG8gYSByZWd1bGFyIG9iamVjdC5cbiAqXG4gKiBFeGFtcGxlXG4gKiB+fn5cbiAqIGNvbnN0IGRvYyA9IHtcbiAqICAgICBcIm5lc3RlZC5vYmouaXNcIjogXCJmdWxsXCIsXG4gKiAgICAgXCJuZXN0ZWQubnVtXCI6IDMsXG4gKiAgICAgXCJ0Z3QuMFwiOiAxLFxuICogICAgIFwidGd0LjFcIjogMixcbiAqIH07XG4gKiBjb25zdCBleHBhbmRlZCA9IGV4cGFuZE9iaihkb2MpO1xuICogY29uc29sZS5sb2coZXhwYW5kZWQpO1xuICogLy8ge1xuICogLy8gICAgIG5lc3RlZDoge1xuICogLy8gICAgICAgICBvYmo6IHtcbiAqIC8vICAgICAgICAgICAgIGlzOiBcImZ1bGxcIixcbiAqIC8vICAgICAgICAgfSxcbiAqIC8vICAgICAgICAgbnVtOiAzLFxuICogLy8gICAgIH0sXG4gKiAvLyAgICAgdGd0OiBbMSwgMl0sXG4gKiAvLyB9XG4gKiB+fn5cbiAqIEBwYXJhbSBvYmpcbiAqIEByZXR1cm5zIHthbnl9XG4gKi9cbmV4cG9ydCBjb25zdCBleHBhbmRPYmogPSAob2JqOiBhbnkpID0+IHtcbiAgICBPYmplY3Qua2V5cyhvYmopLmZvckVhY2goKGspID0+IHtcbiAgICAgICAgLy8gb25seSBvcGVyYXRlIG9uIHZhbHVlcyB0aGF0IGhhdmUgZG90IG5vdGF0aW9uXG4gICAgICAgIGlmIChrLmluZGV4T2YoXCIuXCIpICE9PSAtMSkge1xuICAgICAgICAgICAgZmlsbChrLnNwbGl0KFwiLlwiKSwgb2JqLCBvYmpba10pO1xuICAgICAgICAgICAgLy8gYW5kIHRoZSBvbGQgXCJuYW1lLm9mLm5lc3RlZFwiIGlzIGRlbGV0ZWQgYXQgdGhlIGVuZCBpbiBleHBhbmRPYmpcbiAgICAgICAgICAgIGRlbGV0ZSBvYmpba107XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gb2JqO1xufTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9leHBhbmRPYmoudHMiLCJpbXBvcnQge2dldE9ialZhbHVlfSBmcm9tICcuL2dldE9ialZhbHVlJ1xuXG4vKipcbiAqIEdpdmVuIGFuIGFycmF5IG9mIG9iamVjdC4gSWYgeW91IGtub3cgdGhlIHBhdGggdG8gdGhlIHZhbHVlIGdpdmVuICdwYXRoLnRvLnZhbHVlJ1xuICogdGhlbiB5b3UgY2FuIGdldCB0aGUgaW5kZXggb2YgdGhhdCBvYmogaW4gdGhlIGFycmF5IG9mIHNpbWlsYXIgb2JqZWN0LlxuICogQ2Fubm90IHNlYXJjaCBmb3IgaW5kZXggaWYgYWxsIG9iamVjdHMgZG8gbm90IGhhdmUgdGhhdCB2YWx1ZS5cbiAqIEBwYXJhbSB7VFtdfSBvYmpzXG4gKiBAcGFyYW0ge3N0cmluZ30gcGF0aFxuICogQHBhcmFtIHZhbHVlXG4gKiBAcmV0dXJucyB7bnVtYmVyfVxuICovXG5leHBvcnQgZnVuY3Rpb24gZmluZE9iakFyckluZGV4PFQ+KG9ianM6IFRbXSwgcGF0aDogc3RyaW5nLCB2YWx1ZTogYW55KTogbnVtYmVye1xuICAgIHJldHVybiBvYmpzLnJlZHVjZSgoYWNjOiBudW1iZXIsIGN1cjogVCwgaW5kOiBudW1iZXIpID0+IHtcbiAgICAgICAgaWYgKGdldE9ialZhbHVlKGN1ciwgcGF0aCkgPT09IHZhbHVlKSB7XG4gICAgICAgICAgICByZXR1cm4gaW5kO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgICAgfVxuICAgIH0sIDApO1xufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2ZpbmRPYmpBcnJJbmRleC50cyIsIi8qKlxuICogdW4tbmVzdCBuZXN0ZWQgYXJyYXlzXG4gKlxuICogRXhhbXBsZXNcbiAqIH5+flxuICogY29uc3QgYXJyID0gW1sxXSwgWzJdXTtcbiAqIGNvbnNvbGUubG9nKGZsYXR0ZW5BcnIoYXJyKSk7IC8vIFsxLCAyXTtcbiAqXG4gKiBjb25zdCBhcnIyID0gWzEsIFsyXSwgWzMsIDQsIFs1XV0sIFtbNixbN11dXTtcbiAqIGNvbnNvbGUubG9nKGZsYXR0ZW5BcnIoYXJyMik7IC8vIFsxLCAyLCAzLCA0LCA1LCA2LCA3XTtcbiAqIH5+flxuICogQHBhcmFtIHthbnlbXX0gYXJyXG4gKiBAcmV0dXJucyB7YW55W119XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmbGF0dGVuQXJyKGFycjogYW55KSB7XG4gICAgY29uc3QgdG9TdHJpbmcgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO1xuICAgIGNvbnN0IGFycmF5VHlwZVN0ciA9IFwiW29iamVjdCBBcnJheV1cIjtcblxuICAgIGNvbnN0IHJlc3VsdDogYW55ID0gW107XG4gICAgY29uc3Qgbm9kZXMgPSBhcnIuc2xpY2UoKTtcbiAgICBsZXQgbm9kZTtcblxuICAgIGlmICghYXJyLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIG5vZGUgPSBub2Rlcy5wb3AoKTtcblxuICAgIGRvIHtcbiAgICAgICAgaWYgKHRvU3RyaW5nLmNhbGwobm9kZSkgPT09IGFycmF5VHlwZVN0cikge1xuICAgICAgICAgICAgbm9kZXMucHVzaC5hcHBseShub2Rlcywgbm9kZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXN1bHQucHVzaChub2RlKTtcbiAgICAgICAgfVxuICAgIH0gd2hpbGUgKG5vZGVzLmxlbmd0aCAmJiAobm9kZSA9IG5vZGVzLnBvcCgpKSAhPT0gdW5kZWZpbmVkKTtcblxuICAgIHJlc3VsdC5yZXZlcnNlKCk7IC8vIHdlIHJldmVyc2UgcmVzdWx0IHRvIHJlc3RvcmUgdGhlIG9yaWdpbmFsIG9yZGVyXG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9mbGF0dGVuQXJyLnRzIiwiLyoqXG4gKiBHZXQgdGhlIGR1cGxpY2F0ZSBpdGVtcyBvZiB0d28gYXJyYXlzXG4gKlxuICogRXhhbXBsZXM6XG4gKiB+fn5cbiAqIGxldCBhID0gWzEsIDIsIDNdO1xuICogbGV0IGIgPSBbMV07XG4gKiBsZXQgYyA9IGdldEFyckR1YnMoYSwgYik7XG4gKiBjb25zb2xlLmxvZyhjKTsgLy8gWzFdO1xuICogfn5+XG4gKiBAcGFyYW0ge2FueVtdfSBhcnIxXG4gKiBAcGFyYW0ge2FueVtdfSBhcnIyXG4gKiBAcmV0dXJucyB7YW55W119XG4gKi9cbmV4cG9ydCBjb25zdCBnZXRBcnJEdXBzID0gKGFycjE6IGFueVtdLCBhcnIyOiBhbnlbXSk6IGFueVtdID0+IHtcbiAgICByZXR1cm4gYXJyMS5maWx0ZXIoKHZhbCkgPT4gYXJyMi5pbmRleE9mKHZhbCkgIT09IC0xKTtcbn07XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvZ2V0QXJyRHVwcy50cyIsIi8qKlxuICogR2V0IHZhbHVlIGdpdmVuIHRoZSBQYXRoIGFzIFwicGF0aC50by5uZXN0ZWRcIiBzdHJpbmdcbiAqIEBwYXJhbSBvYmpcbiAqIEBwYXJhbSBwYXRoXG4gKi9cbmV4cG9ydCBjb25zdCBnZXRPYmpWYWx1ZSA9IChvYmo6IGFueSwgcGF0aDogc3RyaW5nKSA9PiB7XG4gICAgcmV0dXJuIHBhdGguc3BsaXQoXCIuXCIpLnJlZHVjZSgobywgaSkgPT4ge1xuICAgICAgICBpZiAobyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gb1tpXTtcbiAgICAgICAgfVxuICAgIH0sIG9iaik7XG59O1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2dldE9ialZhbHVlLnRzIiwiZXhwb3J0IHtybUFyckR1cHN9IGZyb20gJy4vcm1BcnJEdXBzJztcbmV4cG9ydCB7ZmxhdHRlbkFycn0gZnJvbSAnLi9mbGF0dGVuQXJyJztcbmV4cG9ydCB7Z2V0QXJyRHVwc30gZnJvbSAnLi9nZXRBcnJEdXBzJztcbmV4cG9ydCB7cmFuZ2V9IGZyb20gJy4vcmFuZ2UnO1xuZXhwb3J0IHtzYXZlQXJyRHVwc30gZnJvbSAnLi9zYXZlQXJyRHVwcyc7XG5leHBvcnQge2dldE9ialZhbHVlfSBmcm9tICcuL2dldE9ialZhbHVlJztcbmV4cG9ydCB7cm1BcnJPYmpEdXBzfSBmcm9tICcuL3JtQXJyT2JqRHVwcyc7XG5leHBvcnQge2lzRW1wdHl9IGZyb20gJy4vaXNFbXB0eSc7XG5leHBvcnQge2V4cGFuZE9ian0gZnJvbSAnLi9leHBhbmRPYmonO1xuZXhwb3J0IHtjb21wcmVzc09ian0gZnJvbSAnLi9jb21wcmVzc09iaic7XG5leHBvcnQge2RlYm91bmNlfSBmcm9tICcuL2RlYm91bmNlJztcbmV4cG9ydCB7ZmluZE9iakFyckluZGV4fSBmcm9tICcuL2ZpbmRPYmpBcnJJbmRleCc7XG5leHBvcnQge3NldE9ialZhbHVlfSBmcm9tICcuL3NldE9ialZhbHVlJztcbmV4cG9ydCB7ZGF0ZVRvVVRDfSBmcm9tICcuL2RhdGVUb1VUQyc7XG5leHBvcnQge2FkZEhvdXJzfSBmcm9tICcuL2FkZEhvdXJzJztcbmV4cG9ydCB7VVRDdG9Mb2NhbGVEYXRlfSBmcm9tICcuL1VUQ3RvTG9jYWxlRGF0ZSc7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvaW5kZXgudHMiLCIvKipcbiAqIENoZWNrcyBjdXJyZW50IGVsZW1lbnQgaWYgaXQgZW1wdHlcbiAqXG4gKiBFeGFtcGxlczpcbiAqIH5+flxuICogaXNFbXB0eSh7fSk7IC8vIHRydWVcbiAqIGlzRW1wdHkoW10pOyAvLyB0cnVlXG4gKiBpc0VtcHR5KFwiXCIpOyAvLyB0cnVlXG4gKiBpc0VtcHR5KG51bGwpOyAvLyB0cnVlXG4gKiBpc0VtcHR5KHVuZGVmaW5lZCk7IC8vIHRydWVcbiAqIH5+flxuICogQHBhcmFtIG9ialxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCBjb25zdCBpc0VtcHR5ID0gKG9iajogYW55KSA9PiB7XG4gICAgaWYgKCFvYmogJiYgb2JqICE9PSAwKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiAoISh0eXBlb2Yob2JqKSA9PT0gXCJudW1iZXJcIikgJiYgIU9iamVjdC5rZXlzKG9iaikubGVuZ3RoICYmIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvYmopICE9PSAnW29iamVjdCBEYXRlXScpXG59O1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2lzRW1wdHkudHMiLCIvKipcbiAqIFJldHVybnMgYSByYW5nZSBvZiBudW1lcmljYWwgdmFsdWVzIGdpdmVuIG51bWJlcnNcbiAqIEBwYXJhbSBzdGFydFxuICogQHBhcmFtIGVuZFxuICogQHJldHVybnMge251bWJlcltdfVxuICovXG5jb25zdCBudW1SYW5nZSA9ICggc3RhcnQ6IG51bWJlciwgZW5kOiBudW1iZXIpOiBudW1iZXJbXSA9PiB7XG4gICAgY29uc3QgdG90YWw6IG51bWJlcltdID0gW107XG5cbiAgICAvLyBsZWFzdCAtIGdyZWF0ZXN0XG4gICAgaWYgKHN0YXJ0IDwgZW5kKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSBlbmQ7IGkgPj0gc3RhcnQ7IGktLSkge1xuICAgICAgICAgICAgdG90YWwucHVzaChpKTtcbiAgICAgICAgfVxuICAgIH0gZWxzZSBpZiAoc3RhcnQgPiBlbmQpIHsgLy8gZ3JlYXRlc3QgLSBsZWFzdFxuICAgICAgICBmb3IgKGxldCBpID0gc3RhcnQ7IGkgPj0gZW5kOyBpLS0pIHtcbiAgICAgICAgICAgIHRvdGFsLnB1c2goaSk7XG4gICAgICAgIH1cbiAgICB9IGVsc2UgeyAvLyBlcXVhbFxuICAgICAgICB0b3RhbC5wdXNoKHN0YXJ0KTtcbiAgICB9XG5cbiAgICByZXR1cm4gdG90YWw7XG59O1xuXG4vKipcbiAqIFJldHVybnMgYSByYW5nZSBvZiB1dGY4IGNoYXJhY3RlcnMgYmFzZWQgb24gcG9zaXRpb24gaW4gdXRmOCByYW5nZVxuICogQHBhcmFtIHN0YXJ0XG4gKiBAcGFyYW0gZW5kXG4gKiBAcmV0dXJucyB7c3RyaW5nW119XG4gKi9cbmNvbnN0IHV0ZjhSYW5nZSA9IChzdGFydDogc3RyaW5nIHwgbnVtYmVyLCBlbmQ6IHN0cmluZyB8IG51bWJlcik6IHN0cmluZ1tdID0+IHtcbiAgICBjb25zdCBhbGw6IHN0cmluZ1tdID0gW107XG4gICAgY29uc3QgczogbnVtYmVyID0gdHlwZW9mIHN0YXJ0ID09PSBcInN0cmluZ1wiID8gc3RhcnQuY2hhckNvZGVBdCgwKSA6IHN0YXJ0O1xuICAgIGNvbnN0IGU6IG51bWJlciA9IHR5cGVvZiBlbmQgPT09IFwic3RyaW5nXCIgPyBlbmQuY2hhckNvZGVBdCgwKSA6IGVuZDtcblxuICAgIC8vIGxlYXN0IC0gZ3JlYXRlc3RcbiAgICBpZiAocyA8IGUpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IHM7IGkgPD0gZTsgaSsrKSB7XG4gICAgICAgICAgICBhbGwucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlKGkpKTtcbiAgICAgICAgfVxuICAgIH0gZWxzZSBpZiAocyA+IGUpIHsgLy8gZ3JlYXRlc3QgLSBsZWFzdFxuICAgICAgICBmb3IgKGxldCBpID0gczsgaSA+PSBlOyBpLS0pIHtcbiAgICAgICAgICAgIGFsbC5wdXNoKFN0cmluZy5mcm9tQ2hhckNvZGUoaSkpO1xuICAgICAgICB9XG4gICAgfSBlbHNlIHsgLy8gZXF1YWxcbiAgICAgICAgYWxsLnB1c2goU3RyaW5nLmZyb21DaGFyQ29kZShzKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGFsbDtcbn07XG5cbi8qKlxuICogVXNlcyB1dGY4UmFuZ2UgYW5kIG51bVJhbmdlIHRvIHJldHVybiBhIHJhbmdlLlxuICpcbiAqIEV4YW1wbGVcbiAqIH5+flxuICogbGV0IG51bWJlcnM6IG51bWJlcltdID0gcmFuZ2UoMSwgNSk7IC8vIFsxLCAyLCAzLCA0LCA1XVxuICogbGV0IHJldmVyc2U6IG51bWJlcltdID0gcmFuZ2UoNSwgMSk7IC8vIFs1LCA0LCAzLCAyLCAxXVxuICogbGV0IGxldHRlcnM6IHN0cmluZ1tdID0gcmFuZ2UoXCJhXCIsIFwiZFwiKTsgLy8gW1wiYVwiLCBcImJcIiwgXCJjXCIsIFwiZFwiXVxuICogbGV0IHJldmVyc2VMOiBzdHJpbmdbXSA9IHJhbmdlKFwiZFwiLCBcImFcIik7IC8vIFtcImRcIiwgXCJjXCIsIFwiYlwiLCBcImFcIl1cbiAqIH5+flxuICpcbiAqIEBwYXJhbSBzdGFydFxuICogQHBhcmFtIGVuZFxuICogQHJldHVybnMge251bWJlcltdfHN0cmluZ1tdfVxuICovXG5leHBvcnQgY29uc3QgcmFuZ2UgPSAoc3RhcnQ6IHN0cmluZyB8IG51bWJlciwgZW5kOiBzdHJpbmcgfCBudW1iZXIpOiBudW1iZXJbXSB8IHN0cmluZ1tdID0+IHtcbiAgICBsZXQgYWxsOiBudW1iZXJbXSB8IHN0cmluZ1tdICA9IFtdO1xuICAgIGlmICh0eXBlb2Ygc3RhcnQgPT09IFwic3RyaW5nXCIgJiYgdHlwZW9mIGVuZCA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICBhbGwgPSB1dGY4UmFuZ2Uoc3RhcnQsIGVuZCk7XG4gICAgfSBlbHNlIGlmICh0eXBlb2Ygc3RhcnQgPT09IFwibnVtYmVyXCIgJiYgdHlwZW9mIGVuZCA9PT0gXCJudW1iZXJcIikge1xuICAgICAgICBhbGwgPSBudW1SYW5nZShzdGFydCwgZW5kKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJEaWQgbm90IHN1cHBseSBtYXRjaGluZyB0eXBlcyBudW1iZXIgb3Igc3RyaW5nLlwiKTtcbiAgICB9XG4gICAgcmV0dXJuIGFsbDtcbn07XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvcmFuZ2UudHMiLCIvKipcbiAqIEdldCByaWQgb2YgZHVwbGljYXRlcyBpbiBhcnJheVxuICpcbiAqIEV4YW1wbGU6XG4gKiB+fn5cbiAqIGNvbnN0IGEgPSBbMSwgMSwgMSwgMiwgMiwgM107XG4gKiBjb25zdCBiID0gcm1BcnJEdXBzKGEpO1xuICogY29uc29sZS5sb2coYik7IC8vIFsxLCAyLCAzXTtcbiAqIH5+flxuICogQHBhcmFtIHthbnlbXX0gYXJyXG4gKiBAcmV0dXJucyB7YW55W119XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHJtQXJyRHVwcyhhcnI6IGFueVtdKSB7XG4gICAgY29uc3Qgc2VlbjogYW55ID0ge307XG4gICAgY29uc3QgcmV0OiBhbnkgPSBbXTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoIShhcnJbaV0gaW4gc2VlbikpIHtcbiAgICAgICAgICAgIHJldC5wdXNoKGFycltpXSk7XG4gICAgICAgICAgICBzZWVuW2FycltpXV0gPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXQ7XG5cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9ybUFyckR1cHMudHMiLCIvKipcbiAqIFJlbW92ZSBkdXBsaWNhdGUgb2JqZWN0cyBmcm9tIGFycmF5IGNvbXBhcmluZyBjZXJ0YWluIHVuaXF1ZSBmaWVsZC5cbiAqXG4gKiBFeGFtcGxlOlxuICogfn5+XG4gKiBsZXQgYSA9IFt7X2lkOiAxLCBuYW1lOiBcImNoXCJ9LCB7X2lkOiAxLCBuYW1lOiBcImNoXCJ9XVxuICogcm1EdXBzKGEsIFwiX2lkXCIpOyAvLyBbe19pZDogMSwgbmFtZTogXCJjaFwifV1cbiAqIH5+flxuICogQHBhcmFtIGFyclxuICogQHBhcmFtIGZpZWxkXG4gKiBAcmV0dXJucyB7YW55W119XG4gKi9cbmV4cG9ydCBjb25zdCBybUFyck9iakR1cHMgPSAoYXJyOiBhbnlbXSwgZmllbGQ6IHN0cmluZyk6IGFueVtdID0+IHtcbiAgICByZXR1cm4gYXJyLmZpbHRlcigob2JqLCBwb3MsIHJheSkgPT4ge1xuICAgICAgICByZXR1cm4gKHBvcyA9PT0gcmF5LmZpbmRJbmRleCgodCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHRbZmllbGRdID09PSBvYmpbZmllbGRdO1xuICAgICAgICB9KSk7XG4gICAgfSk7XG59O1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL3JtQXJyT2JqRHVwcy50cyIsImltcG9ydCB7Z2V0QXJyRHVwc30gZnJvbSBcIi4vZ2V0QXJyRHVwc1wiO1xuXG4vKipcbiAqIEdldCBvbmx5IGR1cGxpY2F0ZXMgZnJvbSBhcnJheSBvZiBhcnJheXNcbiAqXG4gKiBFeGFtcGxlOlxuICogfn5+XG4gKiBsZXQgYSA9IFtbXSwgW10sIFsnYScsICdiJywgJ2MnXV07XG4gKiBsZXQgYiA9IHNhdmVBcnJEdXBzKGEpO1xuICogY29uc29sZS5sb2coYik7IC8vIFtdO1xuICpcbiAqIGxldCBhID0gW1snYSddLCBbJ2EnXSwgWydhJywgJ2InLCAnYyddXTtcbiAqIGxldCBiID0gc2F2ZUFyckR1cHMoYSk7XG4gKiBjb25zb2xlLmxvZyhiKTsgLy8gWydhJywgJ2EnLCAnYSddO1xuICpcbiAqIGxldCBhID0gW1snYScsICdhJywnYicsJ2InXSwgWydjJywnYicsJ2EnXSxbJ2EnLCdjJywnYiddXTtcbiAqIGxldCBiID0gc2F2ZUFyckR1cHMoYSk7XG4gKiBjb25zb2xlLmxvZyhiKTsgLy8gWydhJywgJ2InXTtcbiAqIH5+flxuICogQHBhcmFtIHthbnlbXVtdfSBhcnJcbiAqIEByZXR1cm5zIHtQcm9taXNlPGFueVtdPn1cbiAqL1xuZXhwb3J0IGNvbnN0IHNhdmVBcnJEdXBzID0gKGFycjogYW55W11bXSk6IFByb21pc2U8YW55W10+ID0+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICBsZXQgY2xlYXIgPSBmYWxzZTtcbiAgICAgICAgY29uc3QgdmFsID0gYXJyLnJlZHVjZSgoaW5pdCwgaXRlbSwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgIGlmIChpbml0Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGlmIChjbGVhcikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaW5pdC5jb25jYXQoW10pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaXRlbS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgY2xlYXIgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaW5pdC5jb25jYXQoW10pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaW5kZXggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGluaXQuY29uY2F0KGl0ZW0pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNsZWFyID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKGl0ZW0ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGNsZWFyID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBnZXRBcnJEdXBzKGluaXQsIGl0ZW0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgW10pO1xuICAgICAgICByZXNvbHZlKHZhbCk7XG4gICAgfSk7XG59O1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL3NhdmVBcnJEdXBzLnRzIiwiLyoqXG4gKiBTZXQgdGhlIGdpdmVuIHBhdGggb2YgYW4gb2JqZWN0IHRvIHRoZSB2YWx1ZSBnaXZlblxuICogQHBhcmFtIG9ialxuICogQHBhcmFtIHBhdGhcbiAqIEBwYXJhbSB2YWx1ZVxuICogQHJldHVybnMge2FueX1cbiAqL1xuZXhwb3J0IGNvbnN0IHNldE9ialZhbHVlID0gKG9iajogYW55LCBwYXRoOiBhbnksIHZhbHVlOiBhbnkpOiBhbnkgPT4ge1xuICAgIGlmICh0eXBlb2YgcGF0aCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgcmV0dXJuIHNldE9ialZhbHVlKG9iaiwgcGF0aC5zcGxpdCgnLicpLCB2YWx1ZSk7XG4gICAgfSBlbHNlIGlmIChwYXRoLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICByZXR1cm4gb2JqW3BhdGhbMF1dID0gdmFsdWU7XG4gICAgfSBlbHNlIGlmIChwYXRoLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gb2JqO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBzZXRPYmpWYWx1ZShvYmpbcGF0aFswXV0sIHBhdGguc2xpY2UoMSksIHZhbHVlKTtcbiAgICB9XG59O1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL3NldE9ialZhbHVlLnRzIl0sInNvdXJjZVJvb3QiOiIifQ==