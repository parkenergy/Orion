function emptyTransfer(){return{date:new Date,isTransfer:!0,transferType:null,transferTypes:["SWAP","TRANSFER","RELEASE","CONTRACT","TEST","REASSIGNMENT"],isYardTransfer:"false",createdBy:{},transferOrderParts:[],unit:{},newLocation:{customer:{}},statuses:["PENDING","SUBMITTED","APPROVED"]}}function setTransferStatus(e,t,r){if(r)switch(t){case"TECHNICIAN":e.status="PENDING";break;case"REVIEWER":e.status="SUBMITTED";break;case"CORPORATE":e.status="APPROVED";break;case"ADMIN":e.status="APPROVED"}else switch(t){case"TECHNICIAN":e.status=null;break;case"REVIEWER":e.status=null;break;case"CORPORATE":e.status="PENDING";break;case"ADMIN":e.status="PENDING"}}function emptyWorkOrder(){return{date:new Date,reason:"",details:"",isTransfer:!1,calledOutBy:"",suction:0,discharge:0,flowrate:0,engineHours:0,engineOilPressure:0,jwTemperature:0,rpm:0,manifoldVac:0,compressorHours:0,compressorOilPressure:0,timeCalled:new Date,timeDeparted:new Date,timeArrived:new Date,callOutReason:new Date,engineSerial:"",engineModel:"",compressorSerial:"",compressorModel:"",createdBy:{},workOrderParts:[],workOrderLogs:[],unit:{},technician:{},statuses:["PENDING","SUBMITTED","APPROVED"]}}if(angular.module("Orion.Controllers",[]),angular.module("Orion.Directives",[]),angular.module("Orion.Services",["ngRoute","ngResource","ngCookies"]),angular.module("Orion",["Orion.Controllers","Orion.Directives","Orion.Services","CustomerApp","LocationApp","PartApp","ServicePartnerApp","TransferApp","UnitApp","UserApp","VendorApp","VendorPartApp","WorkOrderApp","ui.bootstrap","ui.utils"]),angular.module("Orion").config(["$routeProvider",function(e){e.when("/login",{controller:"SessionCtrl",templateUrl:"/app/views/redirecting.html"}).when("/myaccount",{needsLogin:!0,controller:"MyAccountCtrl",templateUrl:"/app/views/myaccount.html",resolve:{workorders:function(e,t,r){{var n=t.defer(),o=new Date;o.setDate(o.getDate()-30)}return r.query({limit:50,where:{status:"SUBMITTED"}},function(e){return n.resolve(e)},function(e){return n.reject(e)}),n.promise},role:function(e,t,r){return r.get()}}}).when("/",{controller:"HomepageCtrl",templateUrl:"/app/views/homepage.html"})}]),angular.module("Orion").config(["$httpProvider",function(e){e.interceptors.push("Handler401")}]),angular.module("Orion.Controllers").controller("DashboardCtrl",["$scope","$route","$location","AlertService","LoaderService",function(e,t,r,n,o){e.createWorkOrder=function(){r.path("/workorder/create")},e.sort={column:["status","date","number"],descending:[!0]},e.workorders.forEach(function(e){var t="";e.unit&&e.unit.location&&e.unit.location.name&&(e.displayLocationName=e.unit.location.name.length<=20?e.unit.location.name:e.unit.location.name.slice(0,17)+"..."),t="",e.unit&&e.unit.location&&e.unit.location.customer&&e.unit.location.customer.dbaCustomerName&&(e.displayCustomerName=e.unit.location.customer.dbaCustomerName.length<=20?e.unit.location.customer.dbaCustomerName:e.unit.location.customer.dbaCustomerName.slice(0,17)+"...")}),e.changeSorting=function(t){var r=e.sort;r.column==t?r.descending=!r.descending:(r.column=t,r.descending=!1)}}]),angular.module("Orion.Controllers").controller("HomepageCtrl",["$scope","$route","$location","AlertService","LoaderService",function(e,t,r,n,o){e.title="Park Energy",e.message="field asset management",e.myAccount=function(){r.path("/myaccount")}}]),angular.module("Orion.Controllers").controller("MyAccountCtrl",["$scope","$route","$location","AlertService","LoaderService","workorders","role",function(e,t,r,n,o,i,a){e.title="My Account",e.workorders=i,e.role=a,e.createWorkOrder=function(){r.path("/workorder/create")}}]),angular.module("Orion.Controllers").controller("NSTCtrl",["$scope","AlertService","LoaderService","ArrayFilterService",function(e,t,r,n){e.expandedRows=[],e.changeSorting=function(t){var r=e.sort;r.column==t?r.descending=!r.descending:(r.column=t,r.descending=!1)},e.toggleExpandObject=function(e){e._nestedObjects&&(e.isRowExpanded=!e.isRowExpanded)},e.getDefaultSort=function(){var t=[];for(var r in e.displayColumns)t.push(r.toString());e.defaultSort={column:t,descending:[!1]}},e.configureColumnSizes=function(){e.columnSizes||(e.columnSizes=[]);for(var t=e.displayColumns.length+e.headerButtons.length,r=e.displayColumns.length+e.rowButtons.length,n=Math.max(t,r),o=0;n>o;o++)e.columnSizes[o]=e.columnSizes[o]||"col-xs-1"},e.configureNestedObjects=function(){e.objectList.forEach(function(t,r,n){t._nestedObjects=[];var o=t[e.nestedKey];return o?void o.forEach(function(r){for(var n={},o=0;o<e.nestedDisplayColumns.length;o++){var i=e.nestedDisplayColumns[o].objKey;n[i]=e.getNestedKey(r,i)}t._nestedObjects.push(n)}):void(t._nestedObjects=o)})},e.getNestedKey=function(e,t){if(!e||!t)return e;for(var r=t.split("."),n=0;n<r.length;n++)if(e=e[r[n]],!e)return void 0;return e},e.onLoad=function(){var t=e.model;if(!(t.objectList&&t.displayColumns&&t.nestedKey&&t.nestedDisplayColumns)){console.log("WARNING!"),console.log("You failed to provide required data for the directive."),console.log("See TableSortSearch documentation for more info.");var r="TableSortSearchCtrl: Required attributes were not assigned to model.";throw new Error(r)}e.tableName=t.tableName||"My Table Name",e.objectList=t.objectList,e.displayColumns=t.displayColumns,e.rowClickAction=t.rowClickAction,e.headerButtons=t.headerButtons,e.rowButtons=t.rowButtons,e.sort=t.sort||e.getDefaultSort(),e.columnSizes=t.columnSizes,e.configureColumnSizes(),e.nestedTableName=t.nestedTableName,e.nestedKey=t.nestedKey,e.nestedDisplayColumns=t.nestedDisplayColumns,e.configureNestedObjects()},function(){e.onLoad()}()}]),angular.module("Orion.Controllers").controller("SessionCtrl",["$scope","$http","$location","$routeParams","$window","AlertService",function(e,t,r,n,o,i){o.location.href="/auth/parkenergyidentity",e.hideLocalLogin=!1,e.title="Login",e.message="Use your local login to access the system.",e.returnUrl=n.returnUrl,e.fragment=n.fragment,r.search({}),"true"===n.failure&&i.add("info","We were unable to log you in. Please try again."),e.thirdPartyAuth=function(t){var r="/auth?authService="+t+(e.returnUrl?"&returnUrl="+e.returnUrl+(e.fragment?"&fragment="+e.fragment:""):"&returnUrl=/#/");o.location.href=r},e.localLogin=function(){t.post("/auth/local",{email:e.email,password:e.password}).success(function(t,n,o,a){i.add("info","Login Successful!",1e3),r.path(e.fragment||"myaccount")}).error(function(e,t,r,n){i.add("danger","We couldn't log you in. Please try again.")})},e.showLocalLogin=function(){e.hideLocalLogin=!1}}]),angular.module("Orion.Controllers").controller("SuperIndexCtrl",["$scope","RedirectService","title","objectList","displayColumns","sort","rowClickAction","rowButtons","headerButtons","model",function(e,t,r,n,o,i,a,s,l,c){function u(){var e=[],t=Object.keys(n[0]);return t.forEach(function(t){if("id"!=t){var r={title:t,objKey:t};e.push(r)}}),e}function d(){var e=Object.keys(n[0]),t=e[0];return"id"==t&&(t=e[1]),{column:[t],descending:[!1]}}function p(){return t.getEditRedirectFn(c)}function f(){return[{title:"edit",action:t.getEditRedirectFn(c)}]}function h(){return[{title:"new "+c,action:t.getEditRedirectFn(c)}]}e.tableModel={tableName:r,objectList:n,displayColumns:o||u,sort:i||d(),rowClickAction:a||p(),rowButtons:s||f(),headerButtons:l||h()}}]),angular.module("Orion.Controllers").controller("STCtrl",["$scope","AlertService","LoaderService",function(e,t,r){e.changeSorting=function(t){var r=e.sort;r.column==t?r.descending=!r.descending:(r.column=t,r.descending=!1)},e.getDefaultSort=function(){var t=[];for(var r in e.displayColumns)t.push(r.toString());e.defaultSort={column:t,descending:[!1]}},e.onLoad=function(){var t=e.model;if(!t.objectList||!t.displayColumns){console.log("WARNING!"),console.log("You failed to provide required data for the directive."),console.log("See TableSortSearch documentation for more info.");var r="TableSortSearchCtrl: Required attributes were not assigned to model.";throw new Error(r)}e.tableName=t.tableName||"My Table Name",e.objectList=t.objectList,e.displayColumns=t.displayColumns,e.rowClickAction=t.rowClickAction,e.headerButtons=t.headerButtons,e.rowButtons=t.rowButtons,e.sort=t.sort||e.getDefaultSort()},function(){e.onLoad()}()}]),angular.module("Orion.Directives").directive("alerts",["AlertService",function(e){return{restrict:"E",templateUrl:"/app/views/alerts.html",link:function(t,r,n,o){t.closeAlert=function(t){return e.closeAlert(t)}}}}]),angular.module("Orion.Directives").directive("customValidation",function(){return{require:"ngModel",scope:!0,link:function(e,t,r,n){function o(e){var t=e,o=void 0!==r.number,i=void 0!==r.textonly,a=void 0!==r.nonNegative,s=void 0!==r.integerOnly;if(o){e=e.replace(/[^-?\d+\.?\d*$]/g,"");for(var l=0,c=0;c<e.length;c++)(0!==c||"-"!==e[c])&&("-"===e[c]?e=e.slice(0,c)+e.slice(c+1,e.length):"."===e[c]&&(l>0?e=e.slice(0,c)+e.slice(c+1,e.length):l=1));a&&(e=e.split("-").join()),s&&(e=e.split(".")[0])}return i&&console.log("text only validation not implemented"),e!==t&&(n.$setViewValue(e),n.$render()),e}t.bind("focus",function(){"0"===t.context.value&&(t.context.value="")}),n.$parsers.push(o)}}}),angular.module("Orion.Directives").directive("dashboard",["$window","$location","WorkOrders",function(e,t,r){return{restrict:"E",templateUrl:"/app/views/dashboard.html",controller:"DashboardCtrl",scope:!0}}]),angular.module("Orion.Directives").directive("header",["$window","$location",function(e,t){return{restrict:"E",templateUrl:"/app/views/header.html",link:function(r,n,o,i){function a(){var r=[];return r="/"===t.path()?[{text:"Login",action:function(){t.path("/myaccount")}}]:[{text:"My Account",action:function(){t.path("/myaccount")}},{text:"Logout",action:function(){e.location="logout"}}]}r.navItems=a()}}}]),angular.module("Orion.Directives").directive("nestedSupertable",["$window",function(e){return{restrict:"E",scope:{model:"="},controller:"NSTCtrl",templateUrl:"/app/views/nestedSuperTable.html"}}]),angular.module("Orion.Directives").directive("supertable",["$window",function(e){return{restrict:"E",scope:{model:"="},controller:"STCtrl",templateUrl:"/app/views/superTable.html"}}]),angular.module("Orion.Services").factory("Handler401",["$q","$cookies","$window","$injector","$location",function(e,t,r,n,o){function i(){var e=r.location.toString().split("#"),t=e[0],n=e[1];o.search("returnUrl",t).search("fragment",n).path("/login")}function a(r,n){var o=e.defer();return null!==t.userId&&void 0!==t.userId&&0!==t.userId&&"undefined"!==t.userId?o.resolve(t.userId):r.get("/authorized").success(function(e){"0"!==e&&void 0!==e&&null!==e&&"undefined"!==e?(t.userId=e.id,t.userName=e.firstName+" "+e.lastName,o.resolve(t.userId)):(delete t.userId,delete t.user,o.reject("Unauthorized"))}).error(function(e){delete t.userId,delete t.user,o.reject(e)}),o.promise}return{request:function(t){return n.invoke(function(r,n){return n.current.needsLogin===!0&&(n.current.needsLogin=!1,a(r,n.current).then(function(e){console.log("Resolve Value: ",e)},function(e){console.log("Rejection Reason: ",e),i()})),t||e.when(t)})},requestError:function(t){return i(),e.reject(t)},response:function(t){return t||e.when(t)},responseError:function(t){return 401===t.status&&i(),e.reject(t)}}}]),angular.module("Orion.Services").factory("AlertService",["$rootScope","$timeout",function(e,t){var r={};return e.alerts=[],r.add=function(n,o,i){i||(i=5e3),100>i&&(i*=1e3);var a={type:n,message:o};e.alerts.push(a),t(function(){r.closeAlert(a)},i)},r.closeAlert=function(t){var n=e.alerts.indexOf(t);r.closeAlertIndex(n)},r.closeAlertIndex=function(t){e.alerts.splice(t,1)},r}]),angular.module("Orion.Services").factory("LoaderService",["$rootScope",function(e){var t={};return e.showLoader=!1,t.show=function(){e.showLoader=!0},t.hide=function(){e.showLoader=!1},t}]),angular.module("Orion.Services").factory("RedirectService",["$location",function(e){var t={};return t.getEditRedirectFn=function(t){return function(r){var n=r?r.id:void 0;e.path("/"+t+"/edit/"+(n||""))}},t.getIndexRedirectFn=function(t){return function(){e.path("/"+t)}},t}]),angular.module("Orion.Services").factory("Areas",["$resource",function(e){return e("/api/areas/:id",{id:"@id"})}]).factory("Compressors",["$resource",function(e){return e("/api/compressors/:id",{id:"@id"})}]).factory("Counties",["$resource",function(e){return e("/api/counties/:id",{id:"@id"})}]).factory("Customers",["$resource",function(e){return e("/api/customers/:id",{id:"@id"})}]).factory("Engines",["$resource",function(e){return e("/api/engines/:id",{id:"@id"})}]).factory("Locations",["$resource",function(e){return e("/api/locations/:id",{id:"@id"})}]).factory("Parts",["$resource",function(e){return e("/api/parts/:id",{id:"@id"})}]).factory("States",["$resource",function(e){return e("/api/states/:id",{id:"@id"})}]).factory("Units",["$resource",function(e){return e("/api/units/:id",{id:"@id"})}]).factory("Users",["$resource",function(e){return e("/api/users/:id",{id:"@id"})}]).factory("Vendors",["$resource",function(e){return e("/api/vendors/:id",{id:"@id"})}]).factory("WorkOrders",["$resource",function(e){return e("/api/workorders/:id",{id:"@id"})}]),angular.module("Orion.Services").factory("GeographyService",["$rootScope",function(e){var t={};return t.states=["Arkansas","Colorado","Louisiana","New Mexico","Oklahoma","Texas"],t.counties=function(e){var t=[];switch(e){case"Arkansas":t=["Arkansas","Ashley","Baxter","Benton","Boone","Bradley","Calhoun","Carroll","Chicot","Clark","Clay","Cleburne","Cleveland","Columbia","Conway","Craighead","Crawford","Crittenden","Cross","Dallas","Desha","Drew","Faulkner","Franklin","Fulton","Garland","Grant","Greene","Hempstead","Hot Spring","Howard","Independence","Izard","Jackson","Jefferson","Johnson","Lafayette","Lawrence","Lee","Lincoln","Little River","Logan","Lonoke","Madison","Marion","Miller","Mississippi","Monroe","Montgomery","Nevada","Newton","Ouachita","Perry","Phillips","Pike","Poinsett","Polk","Pope","Prairie","Pulaski","Randolph","St. Francis","Saline","Scott","Searcy","Sebastian","Sevier","Sharp","Stone","Union","Van Buren","Washington","White","Woodruff","Yell"];break;case"Colorado":t=["Adams","Alamosa","Arapahoe","Archuleta","Baca","Bent","Boulder","Broomfield","Chaffee","Cheyenne","Clear","Conejos","Costilla","Crowley","Custer","Delta","Denver","Dolores","Douglas","Eagle","Elbert","El Paso","Fremont","Garfield","Gilpin","Grand","Gunnison","Hinsdale","Huerfano","Jackson","Jefferson","Kiowa","Kit Carson","Lake","La Plata","Larimer","Las Animas","Lincoln","Logan","Mesa","Mineral","Moffat","Montezuma","Montrose","Morgan","Otero","Ouray","Park","Phillips","Pitkin","Prowers","Pueblo","Rio Blanco","Rio Grande","Routt","Saguache","San Juan","San Miguel","Sedgwick","Summit","Teller","Washington","Weld","Yuma"];break;case"Louisiana":t=["Acadia","Allen","Ascension","Assumption","Avoyelles","Beauregard","Bienville","Bossier","Caddo","Calcasieu","Caldwell","Cameron","Catahoula","Claiborne","Concordia","De Soto","East Baton Rouge","East Carroll","East Feliciana","Evangeline","Franklin","Grant","Iberia","Iberville","Jackson","Jefferson","Jefferson Davis","Lafayette","Lafourche","La Salle","Lincoln","Livingston","Madison","Morehouse","Natchitoches","Orleans","Ouachita","Plaquemines","Pointe Coupee","Rapides","Red River","Richland","Sabine","St. Bernard","St. Charles","St. Helena","St. James","St. John the Baptist","St. Landry","St. Martin","St. Mary","St. Tammany","Tangipahoa","Tensas","Terrebonne","Union","Vermilion","Vernon","Washington","Webster","West Baton Rouge","West Carroll","West Feliciana","Winn"];break;case"New Mexico":t=["Bernalillo","Catron ","Chaves ","Cibola ","Colfax ","Curry ","De Baca","Dona Ana","Eddy ","Grant ","Guadalupe ","Harding ","Hidalgo ","Lea ","Lincoln ","Los Alamos","Luna ","McKinley ","Mora ","Otero ","Quay ","Rio Arriba","Roosevelt ","Sandoval ","San Juan","San Migeul","Sante Fe","Sierra","Socorro","Taos","Torrance","Union","Valencia"];break;case"Oklahoma":t=["Adair","Alfalfa","Atoka","Beaver","Beckham","Blaine","Bryan","Caddo","Canadian","Carter","Cherokee","Choctaw","Cimarron","Cleveland","Coal","Comanche","Cotton","Craig","Creek","Custer","Delaware","Dewey","Ellis","Garfield","Garvin","Grady","Grant","Greer","Harmon","Harper","Haskell","Hughes","Jackson","Jefferson","Johnston","Kay","Kingfisher","Kiowa","Latimer","Le Flore","Lincoln","Logan","Love","Major","Marshall","Mayes","McClain","McCurtain","McIntosh","Murray","Muskogee","Noble","Nowata","Okfuskee","Oklahoma","Okmulgee","Osage","Ottawa","Pawnee","Payne","Pittsburg","Pontotoc","Pottawatomie","Pushmataha","Roger Mills","Rogers","Seminole","Sequoyah","Stephens","Texas","Tillman","Tulsa","Wagoner","Washington","Washita","Woods","Woodward"];break;case"Texas":t=["Anderson","Andrews","Angelina","Aransas","Archer","Armstrong","Atascosa","Austin","Bailey","Bandera","Bastrop","Baylor","Bee","Bell","Bexar","Blanco","Borden","Bosque","Bowie","Brazoria","Brazos","Brewster","Briscoe","Brooks","Brown","Burleson","Burnet","Caldwell","Calhoun","Callahan","Cameron","Camp","Carson","Cass","Castro","Chambers","Cherokee","Childress","Clay","Cochran","Coke","Coleman","Collin","Collingsworth","Colorado","Comal","Comanche","Concho","Cooke","Coryell","Cottle","Crane","Crockett","Crosby","Culberson","Dallam","Dallas","Dawson","Deaf Smith","Delta","Denton","DeWitt","Dickens","Dimmit","Donley","Duval","Eastland","Ector","Edwards","Ellis","El Paso","Erath","Falls","Fannin","Fayette","Fisher","Floyd","Foard","Fort Bend","Franklin","Freestone","Frio","Gaines","Galveston","Garza","Gillespie","Glasscock","Goliad","Gonzales","Gray","Grayson","Gregg","Grimes","Guadalupe","Hale","Hall","Hamilton","Hansford","Hardeman","Hardin","Harris","Harrison","Hartley","Haskell","Hays","Hemphill","Henderson","Hidalgo","Hill","Hockley","Hood","Hopkins","Houston","Howard","Hudspeth","Hunt","Hutchinson","Irion","Jack","Jackson","Jasper","Jeff Davis","Jefferson","Jim Hogg","Jim Wells","Johnson","Jones","Karnes","Kaufman","Kendall","Kenedy","Kent","Kerr","Kimble","King","Kinney","Kleberg","Knox","Lamar","Lamb","Lampasas","La Salle","Lavaca","Lee","Leon","Liberty","Limestone","Lipscomb","Live Oak","Llano","Loving","Lubbock","Lynn","McCulloch","McLennan","McMullen","Madison","Marion","Martin","Mason","Matagorda","Maverick","Medina","Menard","Midland","Milam","Mills","Mitchell","Montague","Montgomery","Moore","Morris","Motley","Nacogdoches","Navarro","Newton","Nolan","Nueces","Ochiltree","Oldham","Orange","Palo Pinto","Panola","Parker","Parmer","Pecos","Polk","Potter","Presidio","Rains","Randall","Reagan","Real","Red River","Reeves","Refugio","Roberts","Robertson","Rockwall","Runnels","Rusk","Sabine","San Augustine","San Jacinto","San Patricio","San Saba","Schleicher","Scurry","Shackelford","Shelby","Sherman","Smith","Somervell","Starr","Stephens","Sterling","Stonewall","Sutton","Swisher","Tarrant","Taylor","Terrell","Terry","Throckmorton","Titus","Tom Green","Travis","Trinity","Tyler","Upshur","Upton","Uvalde","Val Verde","Van Zandt","Victoria","Walker","Waller","Ward","Washington","Webb","Wharton","Wheeler","Wichita","Wilbarger","Willacy","Williamson","Wilson","Winkler","Wise","Wood","Yoakum","Young","Zapata","Zavala"]}return t},t}]),angular.module("Orion.Services").factory("role",["$q","$http",function(e,t){var r={};return r.get=function(){var r=e.defer(),n="/api/role";return t.get(n).success(function(e){r.resolve(e)}).error(function(e){r.reject(e)}),r.promise},r}]),angular.module("CustomerApp.Controllers",[]),angular.module("CustomerApp.Directives",[]),angular.module("CustomerApp.Services",["ngResource","ngCookies"]),angular.module("CustomerApp",["CustomerApp.Controllers","CustomerApp.Directives","CustomerApp.Services"]),angular.module("CustomerApp").config(["$routeProvider",function(e){e.when("/customer/edit/:id?",{controller:"CustomerEditCtrl",templateUrl:"/app/apps/customer/views/edit.html",resolve:{customer:function(e,t,r){var n=e.current.params.id||0;if(n){var o=t.defer();return r.get({id:n},function(e){return o.resolve(e)},function(e){return o.reject(e)}),o.promise}return null},locations:function(e,t,r){var n=e.current.params.id||0;if(n){var o=t.defer();return r.query({where:{CustomerId:n}},function(e){return o.resolve(e)},function(e){return o.reject(e)}),o.promise}return null}}}).when("/customer",{controller:"CustomerIndexCtrl",templateUrl:"/app/apps/customer/views/index.html",resolve:{customers:function(e,t,r){var n=t.defer();return r.query({},function(e){return n.resolve(e)},function(e){return n.reject(e)}),n.promise}}})}]),angular.module("LocationApp.Controllers",[]),angular.module("LocationApp.Directives",[]),angular.module("LocationApp.Services",["ngResource","ngCookies"]),angular.module("LocationApp",["LocationApp.Controllers","LocationApp.Directives","LocationApp.Services"]),angular.module("LocationApp").config(["$routeProvider",function(e){e.when("/location/edit/:id?",{controller:"LocationEditCtrl",templateUrl:"/app/apps/location/views/edit.html",resolve:{location:function(e,t,r){var n=e.current.params.id||0;if(n){var o=t.defer();return r.get({id:n},function(e){return o.resolve(e)},function(e){return o.reject(e)}),o.promise}return null},customers:function(e,t,r){var n=t.defer();return r.query({},function(e){return n.resolve(e)},function(e){return n.reject(e)}),n.promise},servicePartners:function(e,t,r){var n=t.defer();return r.query({},function(e){return n.resolve(e)},function(e){return n.reject(e)}),n.promise}}}).when("/location",{controller:"LocationIndexCtrl",templateUrl:"/app/apps/location/views/index.html",resolve:{locations:function(e,t,r){var n=t.defer();return r.query({},function(e){return n.resolve(e)},function(e){return n.reject(e)}),n.promise}}})}]),angular.module("PartApp.Controllers",[]),angular.module("PartApp.Directives",[]),angular.module("PartApp.Services",["ngResource","ngCookies"]),angular.module("PartApp",["PartApp.Controllers","PartApp.Directives","PartApp.Services"]),angular.module("PartApp").config(["$routeProvider",function(e){e.when("/part/edit/:id?",{controller:"PartEditCtrl",templateUrl:"/app/apps/part/views/edit.html",resolve:{part:function(e,t,r){var n=e.current.params.id||0;if(n){var o=t.defer();return r.get({id:n},function(e){return o.resolve(e)},function(e){return o.reject(e)}),o.promise}return null},vendors:function(e,t,r){var n=t.defer();return r.query({},function(e){return n.resolve(e)},function(e){return n.reject(e)}),n.promise},role:function(e,t,r){return r.get()}}}).when("/part",{controller:"PartIndexCtrl",templateUrl:"/app/apps/part/views/index.html",resolve:{parts:function(e,t,r){var n=t.defer();return r.query({},function(e){return n.resolve(e)},function(e){return n.reject(e)}),n.promise},role:function(e,t,r){return r.get()}}})}]),angular.module("ServicePartnerApp.Controllers",[]),angular.module("ServicePartnerApp.Directives",[]),angular.module("ServicePartnerApp.Services",["ngResource","ngCookies"]),angular.module("ServicePartnerApp",["ServicePartnerApp.Controllers","ServicePartnerApp.Directives","ServicePartnerApp.Services"]),angular.module("ServicePartnerApp").config(["$routeProvider",function(e){e.when("/servicepartner/edit/:id?",{controller:"ServicePartnerEditCtrl",templateUrl:"/app/apps/servicepartner/views/edit.html",resolve:{servicePartner:function(e,t,r){var n=e.current.params.id||0;if(n){var o=t.defer();return r.get({id:n},function(e){return o.resolve(e)},function(e){return o.reject(e)}),o.promise}return null}}}).when("/servicepartner",{controller:"ServicePartnerIndexCtrl",templateUrl:"/app/apps/servicepartner/views/index.html",resolve:{servicePartners:function(e,t,r){var n=t.defer();return r.query({},function(e){return n.resolve(e)},function(e){return n.reject(e)}),n.promise}}})}]),angular.module("TransferApp.Controllers",[]),angular.module("TransferApp.Directives",[]),angular.module("TransferApp.Services",["ngResource","ngCookies"]),angular.module("TransferApp",["TransferApp.Controllers","TransferApp.Directives","TransferApp.Services"]),angular.module("TransferApp").config(["$routeProvider",function(e){e.when("/transfer/edit/:id?",{needsLogin:!0,controller:"TransferEditCtrl",templateUrl:"/app/apps/transfer/views/edit.html",resolve:{transfer:function(e,t,r){var n=e.current.params.id||0;if(n){var o=t.defer();return r.get({id:n},function(e){return o.resolve(e)},function(e){return o.reject(e)}),o.promise}return null},units:function(e,t,r){var n=t.defer();return r.query({},function(e){return n.resolve(e)},function(e){return n.reject(e)}),n.promise},customers:function(e,t,r){var n=t.defer();return r.query({},function(e){return n.resolve(e)},function(e){return n.reject(e)}),n.promise},users:function(e,t,r){var n=t.defer();return r.query({},function(e){return n.resolve(e)},function(e){return n.reject(e)}),n.promise},parts:function(e,t,r){var n=t.defer();return r.query({},function(e){return n.resolve(e)},function(e){return n.reject(e)}),n.promise},servicePartners:function(e,t,r){var n=t.defer();return r.query({},function(e){return n.resolve(e)},function(e){return n.reject(e)}),n.promise},role:function(e,t,r){return r.get()}}}).when("/transfer",{needsLogin:!0,controller:"TransferIndexCtrl",templateUrl:"/app/apps/transfer/views/index.html",resolve:{transfers:function(e,t,r){var n=t.defer();return r.query({},function(e){return n.resolve(e)},function(e){return n.reject(e)}),n.promise}}})}]),angular.module("UserApp.Controllers",[]),angular.module("UserApp.Directives",[]),angular.module("UserApp.Services",["ngResource","ngCookies"]),angular.module("UserApp",["UserApp.Controllers","UserApp.Directives","UserApp.Services"]),angular.module("UserApp").config(["$routeProvider",function(e){e.when("/user/edit/:id?",{controller:"UserEditCtrl",templateUrl:"/app/apps/user/views/edit.html",resolve:{user:function(e,t,r){var n=e.current.params.id||0;if(n){var o=t.defer();return r.get({id:n},function(e){return o.resolve(e)},function(e){return o.reject(e)}),o.promise}return null},servicePartners:function(e,t,r){var n=t.defer();return r.query({},function(e){return n.resolve(e)},function(e){return n.reject(e)}),n.promise},role:function(e,t,r){return r.get()}}}).when("/user",{controller:"SuperIndexCtrl",templateUrl:"/app/views/superIndex.html",resolve:{title:function(){return"Users"},model:function(){return"user"},objectList:function(e,t,r){var n=t.defer(),o=["id","firstName","lastName","email"];return r.query({attributes:o},function(e){return n.resolve(e)},function(e){return n.reject(e)}),n.promise},displayColumns:function(){return[{title:"First Name",objKey:"firstName"},{title:"Last Name",objKey:"lastName"},{title:"Email",objKey:"email"}]},sort:function(){return{column:["firstName"],descending:[!1]}},rowClickAction:function(){},rowButtons:function(){},headerButtons:function(){}}})}]),angular.module("UnitApp.Controllers",[]),angular.module("UnitApp.Directives",[]),angular.module("UnitApp.Services",["ngResource","ngCookies"]),angular.module("UnitApp",["UnitApp.Controllers","UnitApp.Directives","UnitApp.Services"]),angular.module("UnitApp").config(["$routeProvider",function(e){e.when("/unit/edit/:id?",{controller:"UnitEditCtrl",templateUrl:"/app/apps/unit/views/edit.html",resolve:{unit:function(e,t,r){var n=e.current.params.id||0;if(n){var o=t.defer();return r.get({id:n},function(e){return o.resolve(e)},function(e){return o.reject(e)}),o.promise}return null},servicePartners:function(e,t,r){var n=t.defer();return r.query({},function(e){return n.resolve(e)},function(e){return n.reject(e)}),n.promise}}}).when("/unit",{controller:"UnitIndexCtrl",templateUrl:"/app/apps/unit/views/index.html",resolve:{units:function(e,t,r){var n=t.defer();return r.query({},function(e){return n.resolve(e)},function(e){return n.reject(e)}),n.promise},role:function(e,t,r){return r.get()}}})}]),angular.module("VendorApp.Controllers",[]),angular.module("VendorApp.Directives",[]),angular.module("VendorApp.Services",["ngResource","ngCookies"]),angular.module("VendorApp",["VendorApp.Controllers","VendorApp.Directives","VendorApp.Services"]),angular.module("VendorApp").config(["$routeProvider",function(e){e.when("/vendor/edit/:id?",{controller:"VendorEditCtrl",templateUrl:"/app/apps/vendor/views/edit.html",resolve:{vendor:function(e,t,r){var n=e.current.params.id||0;if(n){var o=t.defer();return r.get({id:n},function(e){return o.resolve(e)},function(e){return o.reject(e)}),o.promise}return null},vendorFamilies:function(e,t,r){var n=t.defer();return r.query({},function(e){return n.resolve(e)},function(e){return n.reject(e)}),n.promise},role:function(e,t,r){return r.get()}}}).when("/vendor",{controller:"VendorIndexCtrl",templateUrl:"/app/apps/vendor/views/index.html",resolve:{vendors:function(e,t,r){var n=t.defer();return r.query({},function(e){return n.resolve(e)},function(e){return n.reject(e)}),n.promise}}})}]),angular.module("VendorPartApp.Controllers",[]),angular.module("VendorPartApp.Directives",[]),angular.module("VendorPartApp.Services",["ngResource","ngCookies"]),angular.module("VendorPartApp",["VendorPartApp.Controllers","VendorPartApp.Directives","VendorPartApp.Services"]),angular.module("VendorPartApp").config(["$routeProvider",function(e){e.when("/vendorpart/edit/:id?",{controller:"VendorPartEditCtrl",templateUrl:"/app/apps/vendorpart/views/edit.html",resolve:{vendorpart:function(e,t,r){var n=e.current.params.id||0;if(n){var o=t.defer();return r.get({id:n},function(e){return o.resolve(e)},function(e){return o.reject(e)}),o.promise}return null},parts:function(e,t,r){var n=t.defer();return r.query({},function(e){return n.resolve(e)},function(e){return n.reject(e)}),n.promise},vendors:function(e,t,r){var n=t.defer();return r.query({},function(e){return n.resolve(e)},function(e){return n.reject(e)}),n.promise},role:function(e,t,r){return r.get()}}}).when("/vendorpart",{controller:"VendorPartIndexCtrl",templateUrl:"/app/apps/vendorpart/views/index.html",resolve:{vendorparts:function(e,t,r){var n=t.defer();return r.query({},function(e){return n.resolve(e)},function(e){return n.reject(e)}),n.promise}}})}]),angular.module("WorkOrderApp.Controllers",[]),angular.module("WorkOrderApp.Directives",[]),angular.module("WorkOrderApp.Services",["ngResource","ngCookies","ui.utils"]),angular.module("WorkOrderApp",["WorkOrderApp.Controllers","WorkOrderApp.Directives","WorkOrderApp.Services"]),angular.module("WorkOrderApp").config(["$routeProvider",function(e){e.when("/workorder/edit/:id?",{needsLogin:!0,controller:"WorkOrderEditCtrl",templateUrl:"/app/apps/workorder/views/edit.html",resolve:{workorder:function(e,t,r){var n=e.current.params.id||0;if(n){var o=t.defer();return r.get({id:n},function(e){return o.resolve(e)},function(e){return o.reject(e)}),o.promise}return null},units:function(e,t,r){var n=t.defer();return r.query({},function(e){return n.resolve(e)},function(e){return n.reject(e)}),n.promise},customers:function(e,t,r){var n=t.defer();return r.query({},function(e){return n.resolve(e)},function(e){return n.reject(e)}),n.promise},users:function(e,t,r){var n=t.defer();return r.query({},function(e){return n.resolve(e)},function(e){return n.reject(e)}),n.promise},parts:function(e,t,r){var n=t.defer();return r.query({},function(e){return e.push({id:null,vendorPartNumber:"Other",concatenateName:"Other"}),n.resolve(e)},function(e){return n.reject(e)}),n.promise},role:function(e,t,r){return r.get()}}}).when("/workorder",{needsLogin:!0,controller:"WorkOrderIndexCtrl",templateUrl:"/app/apps/workorder/views/index.html",resolve:{workorders:function(e,t,r){var n=t.defer();return r.query({},function(e){return n.resolve(e)},function(e){return n.reject(e)}),n.promise}}})}]),angular.module("CustomerApp.Controllers").controller("CustomerEditCtrl",["$scope","$route","$location","AlertService","LoaderService","Customers","customer","locations",function(e,t,r,n,o,i,a,s){e.title=a?"Edit "+a.dbaCustomerName:"Create a new customer",e.customer=a,e.locations=s,e.save=function(){e.submitting=!0,e.customer.id?i.save({id:a.id},e.customer,function(t){r.path("/customer"),e.submitting=!1},function(t){
n.add("error",t),e.submitting=!1}):i.save({},e.customer,function(t){r.path("/customer"),e.submitting=!1},function(t){n.add("error",t),e.submitting=!1})},e.destroy=function(){e.submitting=!0,i["delete"]({id:a.id},function(t){r.path("/customer"),e.submitting=!1},function(t){n.add("error",t),e.submitting=!1})}}]),angular.module("CustomerApp.Controllers").controller("CustomerIndexCtrl",["$scope","$route","$location","AlertService","LoaderService","customers",function(e,t,r,n,o,i){e.title="Customers",e.customers=i,e.editCustomer=function(e){r.path("/customer/edit/"+(e||""))},e.createCustomer=function(){e.editCustomer()},e.sort={column:"dbaCustomerName",descending:!1},e.changeSorting=function(t){var r=e.sort;r.column==t?r.descending=!r.descending:(r.column=t,r.descending=!1)}}]),angular.module("LocationApp.Controllers").controller("LocationEditCtrl",["$scope","$route","$location","AlertService","LoaderService","Locations","location","customers","servicePartners","GeographyService",function(e,t,r,n,o,i,a,s,l,c){e.title=a?"Edit "+a.name:"Create a new location",e.location=a,e.customers=s,e.servicePartners=l,e.states=c.states,e.save=function(){e.submitting=!0,e.location.id?i.save({id:a.id},e.location,function(t){r.path("/location"),e.submitting=!1},function(t){n.add("error",t),e.submitting=!1}):i.save({},e.location,function(t){r.path("/location"),e.submitting=!1},function(t){n.add("error",t),e.submitting=!1})},e.destroy=function(){e.submitting=!0,i["delete"]({id:a.id},function(t){r.path("/location"),e.submitting=!1},function(t){n.add("error",t),e.submitting=!1})},e.$watch("location.state",function(t,r){t!==r&&(e.location.county=null,e.counties=c.counties(t))},!0),function(){if(e.location&&e.location.state&&(e.counties=c.counties(e.location.state),-1==e.counties.indexOf(e.location.county))){var t="Please enter a valid county for this location.";n.add("warning",t)}}()}]),angular.module("LocationApp.Controllers").controller("LocationIndexCtrl",["$scope","$route","$location","AlertService","LoaderService","locations",function(e,t,r,n,o,i){e.title="Locations",e.locations=i,e.editLocation=function(e){r.path("/location/edit/"+(e||""))},e.createLocation=function(){e.editLocation()},e.sort={column:"name",descending:!1},e.changeSorting=function(t){var r=e.sort;r.column==t?r.descending=!r.descending:(r.column=t,r.descending=!1)}}]),angular.module("TransferApp.Directives").directive("locationList",[function(){return{restrict:"E",templateUrl:"/app/apps/location/views/list.html",link:function(e,t,r,n,o){}}}]),angular.module("PartApp.Controllers").controller("PartEditCtrl",["$scope","$route","$location","AlertService","LoaderService","Parts","part","vendors","enumeration","$window","VendorParts",function(e,t,r,n,o,i,a,s,l,c,u){function d(){return e.disallowSave=!0,{vendorPartNumber:"",description:"",quantity:0,cost:0,system:0,subsystem:0,component:0,revision:0,vendorParts:[]}}e.title=a?"Edit "+a.smartPartNumber:"Create a new part",e.vendors=s,a?(e.part=a,e.part.revision=e.part.revision+1):e.part=d(),e.enumeration=l.part,e.systems=e.enumeration.systemNames(),e.engines=e.enumeration.engineNames(),e.compressors=e.enumeration.compressorNames(),c.scope=e,e.$watch("part",function(t,r){t!==r&&(e.part.smartPartNumber=e.enumeration.smartPartNumber(e.part),e.disallowSave=!t.description||t.system<=0||t.subsystem<=0?!0:!1)},!0),e.$watch("part.system",function(t,r){e.subsystemsLoading=!0,e.subsystems=e.enumeration.subsystemNames(e.part),e.subsystemsLoading=!1},!0),e.save=function(){e.submitting=!0,e.part.id?i.save({id:a.id},e.part,function(t){r.path("/part"),e.submitting=!1},function(t){n.add("error",t),e.submitting=!1}):i.save({},e.part,function(t){e.part.unsavedVendorParts&&e.part.unsavedVendorParts.length>0?(e.part.id=t.id,console.log("part.id: ",e.part.id),console.log("unsavedVendorParts: ",e.part.unsavedVendorParts),e.saveMultipleVendorParts(e.part.unsavedVendorParts,function(t){t?n.add("error",t):(n.add("success","Vendors successfully saved."),e.submitting=!1)})):(r.path("/part"),e.submitting=!1)},function(t){n.add("error",t),e.submitting=!1})},e.destroy=function(){e.submitting=!0,i["delete"]({id:a.id},function(t){r.path("/part"),e.submitting=!1},function(t){n.add("error",t),e.submitting=!1})},e.saveMultipleVendorParts=function(t,r){if(!(t&&t.length>0))return r(null);var o=t.pop();o.PartId=e.part.id,console.log("vp: ",o),u.save({},o,function(o){console.log("response: ",o),n.add("success","That vendor was successfully added."),e.saveMultipleVendorParts(t,r)},function(e){return r(e)})}}]),angular.module("PartApp.Controllers").controller("PartIndexCtrl",["$scope","$route","$location","AlertService","LoaderService","parts","role","ArrayFilterService",function(e,t,r,n,o,i,a,s){function l(){return[{title:"Number",objKey:"smartPartNumber"},{title:"System",objKey:"systemName"},{title:"Subsystem",objKey:"subsystemConcatenateName"},{title:"Description",objKey:"description"}]}function c(){return["col-xs-2","col-xs-2","col-xs-2","col-xs-4 hidden-md hidden-sm hidden-xs","col-xs-2"]}function u(){return{column:["smartPartNumber"],descending:[!1]}}function d(){var e=[],t={};return t.title="edit",t.action=h,e.push(t),e}function p(){var e=[],t={};return t.title="new part",t.action=m,e.push(t),e}function f(){return[{title:"Vendor",objKey:"vendor.name"},{title:"Part #",objKey:"vendorPartNumber"},{title:"Description",objKey:"vendorPartDescription"},{title:"Cost",objKey:"vendorPartCost"}]}e.title="Parts",e.parts=i,e.role=a,e.editPart=function(e){r.path("/part/edit/"+(e||""))},e.createPart=function(){e.editPart()},e.sort={column:"smartPartNumber",descending:!1},e.changeSorting=function(t){var r=e.sort;r.column==t?r.descending=!r.descending:(r.column=t,r.descending=!1)},e.searchParts=function(t){""===t?e.workorders=i:s.filter(i,t,function(t,r){e.parts=r})};var h=function(t){e.editPart(t.id)},m=function(t){e.createPart()};e.tableModel={tableName:"Parts",objectList:e.parts,displayColumns:l(),columnSizes:c(),sort:u(),rowButtons:d(),headerButtons:p(),nestedTableName:"Vendor Parts",nestedKey:"vendorParts",nestedDisplayColumns:f()}}]),angular.module("PartApp.Directives").directive("vendorParts",[function(){return{restrict:"E",templateUrl:"/app/apps/part/views/vendorparts.html",scope:!0,controller:"PartsVendorPartsCtrl"}}]),angular.module("ServicePartnerApp.Controllers").controller("ServicePartnerEditCtrl",["$scope","$route","$location","AlertService","LoaderService","ServicePartners","servicePartner",function(e,t,r,n,o,i,a){e.title=a?"Edit "+a.name:"Create a new service partner",e.servicePartner=a,e.save=function(){e.submitting=!0,e.servicePartner.id?i.save({id:a.id},e.servicePartner,function(t){r.path("/servicepartner"),e.submitting=!1},function(t){n.add("error",t),e.submitting=!1}):i.save({},e.servicePartner,function(t){r.path("/servicepartner"),e.submitting=!1},function(t){n.add("error",t),e.submitting=!1})},e.destroy=function(){e.submitting=!0,i["delete"]({id:a.id},function(t){r.path("/servicepartner"),e.submitting=!1},function(t){n.add("error",t),e.submitting=!1})}}]),angular.module("ServicePartnerApp.Controllers").controller("ServicePartnerIndexCtrl",["$scope","$route","$location","AlertService","LoaderService","servicePartners",function(e,t,r,n,o,i){e.title="Service Partners",e.servicePartners=i,e.editServicePartner=function(e){r.path("/servicepartner/edit/"+(e||""))},e.createServicePartner=function(){e.editServicePartner()},e.sort={column:"name",descending:!1},e.changeSorting=function(t){var r=e.sort;r.column==t?r.descending=!r.descending:(r.column=t,r.descending=!1)}}]),angular.module("TransferApp.Controllers").controller("TransferEditCtrl",["$scope","$window","$location","$timeout","AlertService","transfer","units","customers","users","parts","role","servicePartners","TransferEditService","TransferAccordionService","GeographyService",function(e,t,r,n,o,i,a,s,l,c,u,d,p,f,h){e.title=(null!==i?"Edit ":"Create ")+"Transfer",e.loadingData=!0,e.states=h.states,p.load(i,function(t){t?o.add("danger",t):(e.transfer=p.transfer,e.locations=p.locations,e.technicians=p.technicians,e.submitButtonText=p.submitButtonText(e.transfer),e.rejectButtonText=p.rejectButtonText(e.transfer),e.accordion=f.instantiate(e.transfer),e.oneAtATime=!e.transfer.id,n(function(){e.loadingData=!1},1e3))}),e.units=a,e.customers=s,e.users=l,e.parts=c,e.role=u,e.servicePartners=d,t.scope=e,e.toggleAll=function(){e.oneAtATime=!e.oneAtATime,e.oneAtATime?(e.accordion.genInfo.open=!1,e.accordion.transfer.open=!1):(e.accordion.genInfo.open=!0,e.accordion.transfer.open=!0)},e.save=function(){e.submitting=!0,p.save(e.transfer,e.role,function(t,n){t?(o.add("danger",t),e.submitting=!1):(o.add("success",e.submitButtonText+" was successful!"),e.submitting=!1,r.path("/transfer"))})},e.destroy=function(){e.submitting=!0,p.destroy(e.transfer,e.role,function(t,n){t?(o.add("danger",t),e.submitting=!1):(o.add("success",e.rejectButtonText+" was successful!"),e.submitting=!1,r.path("/transfer"))})},e.filterTitleCase=function(e){if(e){for(var t=e.split(" "),r=0;r<t.length;r++)t[r]=t[r].toLowerCase(),t[r]=t[r].charAt(0).toUpperCase()+t[r].slice(1);return t.join(" ")}}}]),angular.module("TransferApp.Controllers").controller("TransferIndexCtrl",["$scope","$route","$location","AlertService","LoaderService","transfers","ArrayFilterService",function(e,t,r,n,o,i,a){e.title="Transfers",e.transfers=i,e.editTransfer=function(e){r.path("/transfer/edit/"+(e||""))},e.createTransfer=function(){e.editTransfer()},e.sort={column:["status","date","number"],descending:[!0]},e.changeSorting=function(t){var r=e.sort;r.column==t?r.descending=!r.descending:(r.column=t,r.descending=!1)},e.searchTransfers=function(t){t&&""!==t?a.filter(i,t,function(t,r){e.transfers=r}):e.transfers=i}}]),angular.module("TransferApp.Directives").directive("transferCustomer",[function(){return{restrict:"E",templateUrl:"/app/apps/transfer/views/transferCustomer.html",scope:!0}}]),angular.module("TransferApp.Directives").directive("transferDetails",[function(){return{restrict:"E",templateUrl:"/app/apps/transfer/views/transferDetails.html",scope:!0,controller:"TransferDetailsCtrl"}}]),angular.module("TransferApp.Directives").directive("transferInformation",[function(){return{restrict:"E",templateUrl:"/app/apps/transfer/views/transferInformation.html",scope:!0,controller:"TransferInformationCtrl"}}]),angular.module("TransferApp.Directives").directive("transferLocationCreate",[function(){return{restrict:"E",templateUrl:"/app/apps/transfer/views/transferLocationCreate.html",scope:!0}}]),angular.module("TransferApp.Directives").directive("transferNewset",[function(){return{restrict:"E",templateUrl:"/app/apps/transfer/views/transferNewset.html",scope:!0}}]),angular.module("TransferApp.Directives").directive("transferReassignment",[function(){return{restrict:"E",templateUrl:"/app/apps/transfer/views/transferReassignment.html",scope:!0}}]),angular.module("TransferApp.Directives").directive("transferSimple",[function(){return{restrict:"E",templateUrl:"/app/apps/transfer/views/transferSimple.html",scope:!0}}]),angular.module("TransferApp.Directives").directive("transferSwap",[function(){return{restrict:"E",templateUrl:"/app/apps/transfer/views/transferSwap.html",scope:!0}}]),angular.module("TransferApp.Directives").directive("transferYard",[function(){return{restrict:"E",templateUrl:"/app/apps/transfer/views/transferYard.html",scope:!0}}]),angular.module("TransferApp.Services").factory("TransferAccordionService",["Transfers",function(e){var t={};return t.instantiate=function(e){var t=!e.id;return{genInfo:{open:!0,disabled:!1,valid:!1},transfer:{open:!t,disabled:!0,valid:!1},parts:{open:!t,disabled:!0,valid:!1}}},t.sectionIsValid=function(e,t,r){var n=r,o=!1;switch(e){case"genInfo":("REASSIGNMENT"===n.transferType||n.date&&n.unit.number&&n.transferType)&&(o=!0);break;case"transfer":o=t.genInfo.valid&&(n.NewLocationId||n.freehandLocationName||n.isNewLocation&&n.newLocation.name&&n.newLocation.state&&n.newLocation.county&&n.newLocation.ServicePartnerId&&n.newLocation.CustomerId||"REASSIGNMENT"===n.transferType&&n.OldServicePartnerId&&n.NewServicePartnerId)}return o},t}]),angular.module("TransferApp.Services").factory("TransferEditService",["Transfers","Users","Locations","Customers","role",function(e,t,r,n,o){var i={transfer:{},technicians:[],locations:[]};return i.getTechnicians=function(e){console.log("transfer edit service");var r=this;if(!r.transfer.unit)return e(null);var n=r.transfer.unit.id,o={ServicePartnerId:n,role:"TECHNICIAN"};t.query({where:o},function(i){r.technicians=i,o={ServicePartnerId:n,role:"REVIEWER"},t.query({where:o},function(t){return r.technicians=r.technicians.concat(t),e(null)},function(t){return e(t)})},function(t){return e(t)})},i.getLocations=function(e){var t=this;if(t.transfer.newLocation&&t.transfer.newLocation.id)r.query({where:{CustomerId:t.transfer.newLocation.CustomerId}},function(r){return r.push({id:null,name:"Other"}),t.locations=r,e(null)},function(t){return e(t)});else{if(!t.transfer.freehandLocationName)return e(null);n.query({where:{id:t.transfer.freehandLocationCustomerId}},function(n){t.transfer.newLocation={},t.transfer.newLocation.customer=n[0],r.query({where:{CustomerId:t.transfer.freehandLocationCustomerId}},function(r){return t.locations=r,e(null)},function(t){return e(t)})},function(t){return e(t)})}},i.load=function(e,t){var r=this;if(!e)return r.transfer=emptyTransfer(),t(null);var n=e.reassignMultipleUnits;void 0!==n&&null!==n&&(e.reassignMultipleUnits=e.reassignMultipleUnits.toString()),r.transfer=e,r.getTechnicians(function(e){return e?t(e):void r.getLocations(function(e){return t(e)})})},i.save=function(t,r,n){if("ADMIN"===r&&t.freehandLocationName){var o="You cannot approve a transfer with a freehand location. You'll need to use or create a permanent location.";return n(o)}var i=t.transferType;setTransferStatus(t,r,!0),t.UnitId=t.unit.id,"TEST"===i||"CONTRACT"===i?t.NewCustomerId=t.newLocation.customer.id:"TRANSFER"===i&&"false"===t.isYardTransfer&&(t.NewCustomerId=t.newLocation.customer.id);var a=t.id?{id:t.id}:{};e.save(a,t,function(e){return n(null,e)},function(e){return n(e,null)})},i.destroy=function(t,r,n){setTransferStatus(t,r,!1),t.status?(t.UnitId=t.unit.id,e.save({id:t.id},t,function(e){return n(null,e)},function(e){return n(e,null)})):e["delete"]({id:t.id},function(e){return n(null,e)},function(e){return n(e,null)})},i.submitButtonText=function(e){var t=e.status;return t?"PENDING"===t?"Submit":"SUBMITTED"===t?"Approve":"Edit":"Create"},i.rejectButtonText=function(e){var t=e.status;return t?"PENDING"===t?"Delete":"SUBMITTED"===t?"Reject":"Delete":"Cancel"},i}]),angular.module("UserApp.Controllers").controller("UserEditCtrl",["$scope","$route","$location","AlertService","LoaderService","Users","user","servicePartners","role",function(e,t,r,n,o,i,a,s,l){e.title=a?"Edit "+a.firstName+" "+a.lastName:"Create a new user",e.user=a,e.servicePartners=s,e.roles="ADMIN"===l?["TECHNICIAN","REVIEWER","CORPORATE","ADMIN"]:"CORPORATE"===l?["TECHNICIAN","REVIEWER","CORPORATE"]:"REVIEWER"===l?["TECHNICIAN","REVIEWER"]:["TECHNICIAN"],e.save=function(){e.submitting=!0,e.user.id?i.save({id:a.id},e.user,function(t){r.path("/user"),e.submitting=!1},function(t){n.add("error",t),e.submitting=!1}):i.save({},e.user,function(t){r.path("/user"),e.submitting=!1},function(t){n.add("error",t),e.submitting=!1})},e.destroy=function(){e.submitting=!0,i["delete"]({id:a.id},function(t){r.path("/user"),e.submitting=!1},function(t){n.add("error",t),e.submitting=!1})}}]),angular.module("UserApp.Controllers").controller("UserIndexCtrl",["$scope","$route","$location","AlertService","LoaderService","users",function(e,t,r,n,o,i){function a(){return[{title:"First Name",objKey:"firstName"},{title:"Last Name",objKey:"lastName"},{title:"Email",objKey:"email"}]}function s(){return{column:"firstName",descending:!1}}function l(){var e=[],t={};return t.title="edit",t.action=u,e.push(t),e}function c(){var e=[],t={};return t.title="new user",t.action=d,e.push(t),e}e.title="Users",e.users=i,e.editUser=function(e){r.path("/user/edit/"+(e||""))},e.createUser=function(){e.editUser()};var u=function(t){e.editUser(t.id)},d=function(t){e.createUser()};e.tableModel={tableName:"Users",objectList:e.users,displayColumns:a(),sort:s(),rowClickAction:u,rowButtons:l(),headerButtons:c()}}]),angular.module("UnitApp.Controllers").controller("UnitEditCtrl",["$scope","$route","$location","AlertService","LoaderService","Units","unit","servicePartners","Locations",function(e,t,r,n,o,i,a,s,l){function c(){var t=e.unit.CustomerId,r=e.unit.location&&e.unit.location.isYard();return r?"IDLE AVAILABLE":t?"ACTIVE LEASE":void 0}function u(){return{statuses:["IDLE AVAILABLE","IDLE COMMITTED"],engineHours:0,compressorHours:0}}function d(t){var r=t.filter(function(t){var r=!0;return e.unit.id||t.isYard()===!1&&(r=!1),r});return r}e.title=a?"Edit unit number "+a.number:"Create a new unit",e.unit=a||u(),e.unit.pressureRating=e.unit.pressureRating||"LOW",e.unit.status=e.unit.status||c(),e.servicePartners=s,e.save=function(){e.submitting=!0,e.unit.id?i.save({id:a.id},e.unit,function(t){r.path("/unit"),e.submitting=!1},function(t){n.add("error",t),e.submitting=!1}):i.save({},e.unit,function(t){r.path("/unit"),e.submitting=!1},function(t){n.add("error",t),e.submitting=!1})},e.destroy=function(){e.submitting=!0,i["delete"]({id:a.id},function(t){r.path("/unit"),e.submitting=!1},function(t){n.add("error",t),e.submitting=!1})},e.$watch("unit.ServicePartnerId",function(t,r){var o=t;null!==o&&void 0!==o&&(e.locations=[],e.locationsLoading=!0,l.query({where:{ServicePartnerId:o}},function(t){e.locationsLoading=!1,e.locations=d(t)},function(t){e.locationsLoading=!1,n.add("error",t)}))},!0)}]),angular.module("UnitApp.Controllers").controller("UnitIndexCtrl",["$scope","$route","$location","AlertService","LoaderService","units","$cookies","role",function(e,t,r,n,o,i,a,s){e.title="Units",e.units=i,e.userName=a.userName,e.role=s,e.editUnit=function(e){r.path("/unit/edit/"+(e||""))},e.createUnit=function(){e.editUnit()},e.sort={column:"number",descending:!1},e.changeSorting=function(t){e.sort.column==t?e.sort.descending=!e.sort.descending:(e.sort.column=t,e.sort.descending=!1)},function(){e.allowEdit=!1;var t=e.userName;"Jonathan Mitchell"===t?e.allowEdit=!0:"ADMIN"===s&&(e.allowEdit=!0)}()}]),angular.module("VendorApp.Controllers").controller("VendorEditCtrl",["$scope","$route","$location","AlertService","LoaderService","Vendors","vendor","vendorFamilies","role",function(e,t,r,n,o,i,a,s,l){e.title=a?"Edit "+a.name:"Create a new vendor",a&&(e.vendor=a),e.vendorFamilies=s,e.vendorFamilies.push({name:"Other",id:0}),e.save=function(){e.submitting=!0,e.vendor.id?i.save({id:a.id},e.vendor,function(t){r.path("/vendor"),e.submitting=!1},function(t){n.add("error",t),e.submitting=!1}):i.save({},e.vendor,function(t){r.path("/vendor"),e.submitting=!1},function(t){n.add("error",t),e.submitting=!1})},e.destroy=function(){e.submitting=!0,i["delete"]({id:a.id},function(t){r.path("/vendor"),e.submitting=!1},function(t){n.add("error",t),e.submitting=!1})}}]),angular.module("VendorApp.Controllers").controller("VendorIndexCtrl",["$scope","$route","$location","AlertService","LoaderService","vendors",function(e,t,r,n,o,i){e.title="Vendors",e.vendors=i,e.editVendor=function(e){r.path("/vendor/edit/"+(e||""))},e.createVendor=function(){e.editVendor()},e.sort={column:"name",descending:!1},e.changeSorting=function(t){var r=e.sort;r.column==t?r.descending=!r.descending:(r.column=t,r.descending=!1)}}]),angular.module("VendorPartApp.Controllers").controller("VendorPartEditCtrl",["$scope","$route","$location","AlertService","LoaderService","VendorParts","vendorpart","vendors","parts","role",function(e,t,r,n,o,i,a,s,l,c){function u(t){if(!t)return null;var r=e.parts.filter(function(e){return e.id===t});return r.length<0?null:r[0]}e.title=a?"Edit "+a.vendorPartNumber:"Create a new vendor",a&&(e.vendorpart=a),e.vendors=s,e.parts=l,e.$watch("vendorpart.PartId",function(t,r){if(t!==r){var n=u(r),o=u(t);e.vendorpart.vendorPartDescription?e.vendorpart.vendorPartDescription===n.description&&(e.vendorpart.vendorPartDescription=o.description):e.vendorpart.vendorPartDescription=o.description}},!0),e.save=function(){e.submitting=!0,e.vendorpart.id?i.save({id:a.id},e.vendorpart,function(t){r.path("/vendorpart"),e.submitting=!1},function(t){n.add("error",t),e.submitting=!1}):i.save({},e.vendorpart,function(t){r.path("/vendorpart"),e.submitting=!1},function(t){n.add("error",t),e.submitting=!1})},e.destroy=function(){e.submitting=!0,i["delete"]({id:a.id},function(t){r.path("/vendorpart"),e.submitting=!1},function(t){n.add("error",t),e.submitting=!1})}}]),angular.module("VendorPartApp.Controllers").controller("VendorPartIndexCtrl",["$scope","$route","$location","AlertService","LoaderService","vendorparts",function(e,t,r,n,o,i){e.title="Vendor Parts",e.vendorparts=i,e.editVendorPart=function(e){r.path("/vendorpart/edit/"+(e||""))},e.createVendorPart=function(){e.editVendorPart()},e.sort={column:"name",descending:!1},e.changeSorting=function(t){var r=e.sort;r.column==t?r.descending=!r.descending:(r.column=t,r.descending=!1)}}]),angular.module("WorkOrderApp.Controllers").controller("WorkOrderEditCtrl",["$scope","$location","AlertService","WorkOrders","workorder","units","customers","users","parts","WorkOrderEditService","WorkOrderAccordionService","role","$window",function(e,t,r,n,o,i,a,s,l,c,u,d,p){e.title=(null!==o?"Edit ":"Create ")+"Work Order",c.load(o,function(t){t?r.add("danger",t):(e.workorder=c.workorder,e.technicians=c.technicians,e.submitButtonText=c.submitButtonText(e.workorder),e.rejectButtonText=c.rejectButtonText(e.workorder),e.accordion=u.instantiate(e.workorder),e.activePanel="general-information",e.oneAtATime=!e.workorder.id)}),e.units=i,e.customers=a,e.users=s,e.parts=l,e.role=d,p.scope=e,e.$watch("workorder",function(t,r){var n=u.sectionIsValid;for(var o in e.accordion){var i=n(o,e.accordion,e.workorder);e.accordion[o].valid=i}},!0),e.crossPopulate=function(){var t=e.workorder.engineHours,r=e.workorder.compressorHours;return t&&!r?void(e.workorder.compressorHours=e.workorder.engineHours):r&&!t?void(e.workorder.engineHours=e.workorder.compressorHours):void 0},e.toggleAll=function(){e.oneAtATime=!e.oneAtATime,e.oneAtATime?(e.accordion.genInfo.open=!1,e.accordion.hardware.open=!1,e.accordion.logs.open=!1,e.accordion.callOut.open=!1,e.accordion.highPressure.open=!1,e.accordion.parts.open=!1):(e.accordion.genInfo.open=!0,e.accordion.hardware.open=!0,e.accordion.logs.open=!0,e.accordion.callOut.open=!0,e.accordion.highPressure.open=!0,e.accordion.parts.open=!0)},e.showHistory=!1,e.toggleHistory=function(){e.showHistory=!e.showHistory},e.save=function(){e.submitting=!0,c.save(e.workorder,e.role,function(n,o){n?(r.add("danger",n),e.submitting=!1):(r.add("success","Save was successful!"),e.submitting=!1,t.path("/workorder"))})},e.destroy=function(){e.submitting=!0,c.destroy(e.workorder,e.role,function(n,o){n?(r.add("danger",n),e.submitting=!1):(r.add("success",e.submitButtonText+" was successful!"),e.submitting=!1,t.path("/workorder"))})}}]),angular.module("WorkOrderApp.Controllers").controller("WorkOrderIndexCtrl",["$scope","$route","$location","AlertService","LoaderService","workorders","ArrayFilterService",function(e,t,r,n,o,i,a){function s(e,t){var r=new Date(e.getFullYear(),e.getMonth(),e.getDate()),n=new Date(t.getFullYear(),t.getMonth(),t.getDate()),o=864e5,i=n.getTime()-r.getTime(),a=i/o;return Math.floor(a)}e.title="Work Orders",e.workorders=i,e.searchPhrase=null,e.searchLength=null,e.editWorkOrder=function(e){r.path("/workorder/edit/"+(e||""))},e.createWorkOrder=function(){e.editWorkOrder()},e.sort={column:["status","date","number"],descending:[!0]},e.changeSorting=function(t){var r=e.sort;r.column==t?r.descending=!r.descending:(r.column=t,r.descending=!1)},e.searchWorkorders=function(t){console.log(t),""===t?(e.workorders=i,e.onlyShowRecentWorkOrders()):a.filter(i,t,function(t,r){e.workorders=r})},e.onlyShowRecentWorkOrders=function(){e.workorders=e.workorders.filter(function(e){if("APPROVED"!==e.status)return!0;var t=new Date(e.updatedAt),r=new Date,n=s(t,r);return n>31?!1:!0})},function(){e.onlyShowRecentWorkOrders()}()}]),angular.module("WorkOrderApp.Services").factory("WorkOrderAccordionService",[function(){var e={};return e.instantiate=function(e){var t=!e.id;return{genInfo:{open:!0,disabled:!1,valid:!1},hardware:{open:!t,disabled:!0,valid:!1},logs:{open:!t,disabled:!0,valid:!1},callOut:{open:!t,disabled:!0,valid:!1},highPressure:{open:!t,disabled:!0,valid:!1},parts:{open:!t,disabled:!0,valid:!1}}},e.sectionIsValid=function(e,t,r){var n=!1,o=r;switch(e){case"genInfo":n=o.date&&o.unit.number;break;case"hardware":n=t.genInfo.valid&&0!==o.suction.length&&0!==o.discharge.length&&0!==o.flowrate.length&&0!==o.engineHours.length&&0!==o.engineOilPressure.length&&0!==o.jwTemperature.length&&0!==o.rpm.length&&0!==o.manifoldVac.length&&0!==o.compressorHours.length&&0!==o.compressorOilPressure.length;break;case"logs":n=t.hardware.valid&&o.workOrderLogs;break;case"callOut":n=t.logs.valid&&(o.isCallOut!==!0||o.calledOutBy&&o.timeCalled&&o.timeDeparted&&o.timeArrived&&o.callOutReason);break;case"highPressure":n=t.logs.valid&&(o.isHighPressure!==!0||!!o.pressureRating);break;case"parts":n=t.logs.valid&&o.workOrderParts}return n},e}]),angular.module("WorkOrderApp.Services").factory("WorkOrderEditService",["WorkOrders","Users","role","$cookies",function(e,t,r,n){function o(e,t,r){if(r)switch(t){case"TECHNICIAN":e.status="SUBMITTED";break;case"REVIEWER":e.status="APPROVED";break;case"CORPORATE":e.status="APPROVED";break;case"ADMIN":e.status="APPROVED"}else{var o=n.userId||0;if(o===e.CreatedById)return void(e.status=null);switch(t){case"TECHNICIAN":e.status=null;break;case"REVIEWER":e.status="SUBMITTED";break;case"CORPORATE":e.status="SUBMITTED";break;case"ADMIN":e.status="SUBMITTED"}}}var i={workorder:{},technician:[]};return i.load=function(e,t){var r=this;return e?(r.workorder=e,r.workorder.timeCalled=e.timeCalled.split(".")[0],r.workorder.timeDeparted=e.timeDeparted.split(".")[0],r.workorder.timeArrived=e.timeArrived.split(".")[0],r.loadTechnicians(t),r.workorder):(r.workorder=emptyWorkOrder(),t(null))},i.loadTechnicians=function(e){var r=this,n=null;if(r.workorder.unit&&(n=r.workorder.unit.ServicePartnerId),!n)return e(null);var o={ServicePartnerId:n,role:"TECHNICIAN"};t.query({where:o},function(i){r.technicians=i,o={ServicePartnerId:n,role:"REVIEWER"},t.query({where:o},function(t){return r.technicians=r.technicians.concat(t),e(null)},function(t){return e(t)})},function(t){return e(t)})},i.save=function(t,r,n){var i,a=t.workOrderLogs.filter(function(e){return 0===e.hours&&0===e.minutes}),s=a.length>0;if(s){var l="This workorder contains some Types of Work Performed Line Items that do not have hours or minutes. Are you sure you wish to save?";if(!confirm(l))return n("Please edit the line items and then save again.");o(t,r,!0),t.UnitId=t.unit.id,i=t.id?{id:t.id}:{},e.save(i,t,function(e){return n(null,e)},function(e){return n(e,null)})}else o(t,r,!0),t.UnitId=t.unit.id,i=t.id?{id:t.id}:{},e.save(i,t,function(e){return n(null,e)},function(e){return n(e,null)})},i.destroy=function(t,r,n){console.log(t.status),o(t,r,!1),console.log(t.status),t.status?(t.UnitId=t.unit.id,e.save({id:t.id},t,function(e){return n(null,e)},function(e){return n(e,null)})):e["delete"]({id:t.id},function(e){return n(null,e)},function(e){return n(e,null)})},i.submitButtonText=function(e){var t=e.status;return t&&"TECHNIAN"!==r?"PENDING"===t||"REVIEWER"===r?"Submit":"SUBMITTED"===t||"CORPORATE"===r?"Approve":"SUBMITTED"===t||"ADMIN"===r?"Approve":"Edit":"Create"},i.rejectButtonText=function(e){var t=e.status;return t?"PENDING"===t?"Delete":"SUBMITTED"===t?"Reject":"Delete":"Cancel"},i}]),angular.module("PartApp.Controllers").controller("PartsVendorPartsCtrl",["$scope","$location","AlertService","VendorParts",function(e,t,r,n){e.addNewVendorPart=function(){var t=e.newVendorPart,o=e.vendors.filter(function(e){return e.id===t.VendorId})[0].name;t.vendor={name:o},t.PartId?(n.save({},t,function(t){r.add("success","That vendor was successfully added."),e.submitting=!1,e.part.vendorParts.push(t)},function(t){r.add("error",t),e.submitting=!1}),e.newVendorPart=e.emptyVendorPart()):(e.unsavedVendorParts||(e.part.unsavedVendorParts=[]),e.part.unsavedVendorParts.push(t),e.part.vendorParts.push(t),e.newVendorPart=e.emptyVendorPart())},e.removeVendorPart=function(t){var o=e.part.vendorParts.splice(t,1),i=o[0].id;e.submitting=!0,n["delete"]({id:i},function(t){r.add("success","That vendor was successfully removed."),e.submitting=!1},function(t){r.add("error",t),e.submitting=!1,e.part.vendorParts.push(o)})},e.editVendorPart=function(r){var n=e.part.vendorParts[r].id;console.log(n),t.path("/vendorpart/edit/"+n)},e.emptyVendorPart=function(){return{PartId:e.part.id,VendorId:null,vendorPartNumber:null,vendorPartDescription:e.part.description,vendorPartCost:0}},function(){e.newVendorPart=e.emptyVendorPart()}()}]),angular.module("TransferApp.Controllers").controller("TransferDetailsCtrl",["$scope","AlertService","LoaderService","Locations","Users","Units","GeographyService",function(e,t,r,n,o,i,a){function s(t){var r=e.transfer.transferType,n=t.filter(function(e){var t=!0;return("SWAP"===r||"RELEASE"===r)&&("Lease"===e.locationType||"Truck"===e.locationType)&&(t=!1),("CONTRACT"===r||"TEST"===r)&&("Yard"===e.locationType||"Truck"===e.locationType)&&(t=!1),t});return n}function l(){e.transfer.newLocation&&(e.transfer.newLocation.customer.dbaCustomerName=null,e.transfer.newLocation.servicePartner=null),e.transfer.OldServicePartnerId=null,e.transfer.reassignMultipleUnits=null}e.$watch("transfer.transferType",function(t,r){if(t!==r)switch(l(),t){case"SWAP":e.transfer.newLocation.customer.dbaCustomerName=e.transfer.unit.customer.dbaCustomerName,e.transfer.newLocation.servicePartner=e.transfer.unit.servicePartner;break;case"TRANSFER":break;case"RELEASE":e.transfer.newLocation.customer.dbaCustomerName=null,e.transfer.newLocation.servicePartner=e.transfer.unit.servicePartner;break;case"CONTRACT":break;case"TEST":break;case"REASSIGNMENT":e.transfer.OldServicePartnerId=e.transfer.unit.ServicePartnerId,e.transfer.reassignMultipleUnits="false"}},!0),e.$watch("transfer.newLocation.customer.dbaCustomerName",function(r,o){if(r!==o){var i=e.transfer.transferType;if("TRANSFER"===i||"CONTRACT"===i||"TEST"===i){for(var a,l=0,c=e.customers.length;c>l;l++)e.customers[l].dbaCustomerName===r&&(e.transfer.newLocation.customer=angular.copy(e.customers[l]),a=e.transfer.newLocation.customer.id,e.transfer.newLocation.CustomerId=e.transfer.newLocation.customer.id);a&&(e.locations=[],e.locationsLoading=!0,n.query({where:{CustomerId:a}},function(t){e.locationsLoading=!1,e.locations=s(t),e.locations.push({id:null,name:"Other"})},function(r){e.locationsLoading=!1,t.add("error",r)}))}else if("RELEASE"===i||"SWAP"===i){var u=e.transfer.newLocation.servicePartner.id;n.query({where:{ServicePartnerId:u}},function(t){e.locationsLoading=!1,e.locations=s(t),"RELEASE"===i&&e.locations.push({id:null,name:"Other"})},function(r){e.locationsLoading=!1,t.add("error",r)})}}},!0),e.$watch("transfer.NewLocationId",function(r,n){if(r!==n&&null!==r){for(var o=0,a=e.locations.length;a>o;o++)if(e.locations[o].id===r){e.allowFreehandLocation=!1,e.transfer.freehandLocationCustomerId=null,e.transfer.freehandLocationName=null,e.transfer.freehandLocationCounty=null,e.transfer.newLocation=angular.copy(e.locations[o]);break}"SWAP"===e.transfer.transferType&&i.query({where:{LocationId:r}},function(t){e.unitsLoading=!1,e.swapUnits=t},function(r){e.unitsLoading=!1,t.add("error",r)})}else r!==n&&null===r&&(e.allowFreehandLocation=!0,e.transfer.newLocation&&(e.transfer.freehandLocationCustomerId=e.transfer.newLocation.customer.id))},!0),e.$watch("transfer.NewServicePartnerId",function(r,i){if(r!==i){var a=r;if("TRANSFER"!==e.transfer.transferType&&"RELEASE"!==e.transfer.transferType||"true"!==e.transfer.isYardTransfer){
e.newTechniciansLoading=!0,e.transfer.isNewLocation&&(e.transfer.newLocation.ServicePartnerId=a);var l={ServicePartnerId:a,role:"TECHNICIAN"};o.query({where:l},function(r){e.technicians=r,l={ServicePartnerId:a,role:"REVIEWER"},o.query({where:l},function(t){e.technicians=e.technicians.concat(t),e.techniciansLoading=!1},function(e){t.add("danger",e)})},function(e){t.add("danger",e)})}else e.locations=[],e.locationsLoading=!0,n.query({where:{ServicePartnerId:a,locationType:"Yard"}},function(t){e.locationsLoading=!1,e.locations=s(t)},function(r){e.locationsLoading=!1,t.add("error",r)})}},!0),e.$watch("transfer.NewTechnicianId",function(t,r){t!==r&&e.transfer.isNewLocation&&(e.technicians=e.newTechnicians,e.transfer.TechnicianId=t,e.transfer.technician=e.technicians.filter(function(e){return e.id===t})[0])},!0),e.$watch("transfer.SwapUnitId",function(t,r){if(t!==r&&e.swapUnits)for(var n=0,o=e.swapUnits.length;o>n;n++)e.swapUnits[n].id===t&&(e.transfer.swapUnit=angular.copy(e.swapUnits[n]))}),e.$watch("transfer.isNewLocation",function(t,r){if(t!==r&&e.transfer.newLocation){var n=e.transfer.newLocation.state;e.counties=a.counties(n)}}),e.$watch("transfer.newLocation.state",function(t,r){t!==r&&e.transfer.isNewLocation&&(e.transfer.newLocation.county=null,e.counties=a.counties(t))})}]),angular.module("TransferApp.Controllers").controller("TransferInformationCtrl",["$scope","AlertService","LoaderService","TransferAccordionService","Users","role",function(e,t,r,n,o,i){e.$watch("transfer",function(t,r){var o=n.sectionIsValid;for(var i in e.accordion){var a=o(i,e.accordion,e.transfer);e.accordion[i].valid=a}},!0),e.$watch("transfer.unit.number",function(t,r){if(t!==r&&e.loadingData!==!0)for(var n=0,o=e.units.length;o>n;n++)e.units[n].number===t&&(e.transfer.unit=angular.copy(e.units[n]),e.transfer.unit.location&&(e.transfer.oldLocation=e.transfer.unit.location,e.transfer.OldLocationId=e.transfer.unit.location.id),"REASSIGNMENT"===e.transfer.transferType&&(e.transfer.OldServicePartnerId=e.transfer.unit.ServicePartnerId))},!0),e.$watch("transfer.unit",function(r,n){if(r!==n){var i=e.transfer.unit.ServicePartnerId;e.techniciansLoading=!0;var a={ServicePartnerId:i,role:"TECHNICIAN"};o.query({where:a},function(r){e.technicians=r,a={ServicePartnerId:i,role:"REVIEWER"},o.query({where:a},function(t){e.technicians=e.technicians.concat(t),e.techniciansLoading=!1},function(e){t.add("danger",e)})},function(e){t.add("danger",e)})}},!0),e.$watch("transfer.TechnicianId",function(t,r){t!==r&&e.technicians.forEach(function(t,r,n){t.id===e.transfer.TechnicianId&&(e.transfer.technician=t)})},!0),e.filterNewSet=function(e){return"CONTRACT"===e||"TEST"===e},e.filterUnitMove=function(e){return"CONTRACT"!==e&&"TEST"!==e&&"REASSIGNMENT"!==e},e.filterReassignment=function(e){return"REASSIGNMENT"===e}}]),angular.module("WorkOrderApp.Controllers").controller("WorkOrderCalloutCtrl",["$scope","AlertService",function(e,t){e.callOutReasons=["PRODUCTION RELATED","ELECTRICAL ISSUES","MECHANICAL-ENGINE","MECHANICAL-COMPRESSOR"]}]),angular.module("WorkOrderApp.Controllers").controller("WorkOrderInformationCtrl",["$scope","AlertService","Users",function(e,t,r){e.$watch("workorder.unit.number",function(t,r){if(t!==r)for(var n=0,o=e.units.length;o>n;n++)e.units[n].number===t&&(e.workorder.unit=angular.copy(e.units[n]))},!0),e.$watch("workorder.unit",function(n,o){if(n!==o){var i=e.workorder.unit.ServicePartnerId;e.techniciansLoading=!0;var a={ServicePartnerId:i,role:"TECHNICIAN"};r.query({where:a},function(n){e.technicians=n,a={ServicePartnerId:i,role:"REVIEWER"},r.query({where:a},function(t){e.technicians=e.technicians.concat(t),e.techniciansLoading=!1},function(e){t.add("danger",e)})},function(e){t.add("danger",e)})}},!0),e.$watch("workorder.TechnicianId",function(t,r){t!==r&&e.technicians.forEach(function(t,r,n){t.id===e.workorder.TechnicianId&&(e.workorder.technician=t)})},!0)}]),angular.module("WorkOrderApp.Controllers").controller("WorkOrderLogsCtrl",["$scope","enumeration","AlertService",function(e,t,r){e.enumeration=t.workorder,e.typeNames=e.enumeration.typeNames(),e.systemNames=e.enumeration.systemNames(),e.typeOfWorkPerformedNames=e.enumeration.typeOfWorkPerformedNames(),e.hoursList=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24],e.minutesList=[0,15,30,45],e.emptyWorkOrderLog=function(){return{WorkOrderId:null,typeOfWorkPerformed:null,system:null,subsystem:null,type:null,subtype:null,hours:0,minutes:0}},e.newWorkOrderLog=e.emptyWorkOrderLog(),e.lineItemSubmissionDisabled=!0,e.subtypeSelectionDisabled=!0,e.systemSelectionDisabled=!0,e.removeLog=function(t){e.workorder.workOrderLogs.splice(t,1)},e.addNewLog=function(){var t=e.newWorkOrderLog;if(0===t.hours&&0===t.minutes){var n="You've added a workorder line item without times. Please remove it and redo this line item if this was in error.";r.add("danger",n,15)}e.workorder.workOrderLogs.push(t),e.newWorkOrderLog=e.emptyWorkOrderLog()},e.$watch("newWorkOrderLog.system",function(t,r){if(t!==r){var n=e.newWorkOrderLog.system;n?(e.subsystemNames=e.enumeration.subsystemNames(e.newWorkOrderLog),0!==n&&(e.subsystemSelectionDisabled=!1)):(e.subsystemSelectionDisabled=!0,e.newWorkOrderLog.subsystem=null,e.newWorkOrderLog.subsystemNames=[])}},!0),e.$watch("newWorkOrderLog.type",function(t,r){if(t!==r){var n=e.newWorkOrderLog.type;n?(e.subtypeNames=e.enumeration.subtypeNames(e.newWorkOrderLog),e.lineItemSubmissionDisabled=!1,1===n?(e.subtypeSelectionDisabled=!0,e.systemSelectionDisabled=!0,e.newWorkOrderLog.system=null,e.newWorkOrderLog.subsystem=null):2===n||4===n?(e.subtypeSelectionDisabled=!1,e.systemSelectionDisabled=!1):(e.subtypeSelectionDisabled=!1,e.systemSelectionDisabled=!0,e.newWorkOrderLog.system=null,e.newWorkOrderLog.subsystem=null)):(e.newWorkOrderLog.subtypeNames=[],e.lineItemSubmissionDisabled=!0,e.systemSelectionDisabled=!0,e.newWorkOrderLog.system=null,e.newWorkOrderLog.subsystem=null)}},!0)}]),angular.module("WorkOrderApp.Controllers").controller("WorkOrderPartsCtrl",["$scope",function(e){e.emptyWorkOrderPart=function(){return{WorkOrderId:null,PartId:null,isFreehandPart:!1,vendorPartNumber:null,description:"",quantity:0,cost:0}},e.newWorkOrderPart=e.emptyWorkOrderPart(),e.removePart=function(t){e.workorder.workOrderParts.splice(t,1)},e.addNewPart=function(){var t=e.newWorkOrderPart;t.PartId=t.part.id,t.description=t.description||t.part.description,t.cost=t.cost||t.part.cost,e.workorder.workOrderParts.push(t),e.newWorkOrderPart=e.emptyWorkOrderPart()},e.$watch("newWorkOrderPart.part",function(t,r){t!==r&&(e.newWorkOrderPart.isFreehandPart=e.newWorkOrderPart.part&&("Other"===e.newWorkOrderPart.part.vendorPartNumber||e.newWorkOrderPart.isFreehandPart)?!0:!1)},!0)}]),angular.module("WorkOrderApp.Directives").directive("customerCallOut",[function(){return{restrict:"E",templateUrl:"/app/apps/workorder/views/customerCallOut.html",controller:"WorkOrderCalloutCtrl",scope:!0}}]),angular.module("WorkOrderApp.Directives").directive("generalInformation",[function(){return{restrict:"E",scope:!0,templateUrl:"/app/apps/workorder/views/generalInformation.html",controller:"WorkOrderInformationCtrl"}}]),angular.module("WorkOrderApp.Directives").directive("hardware",[function(){return{restrict:"E",templateUrl:"/app/apps/workorder/views/hardware.html",link:function(e,t,r,n,o){}}}]),angular.module("WorkOrderApp.Directives").directive("logs",[function(){return{restrict:"E",scope:!0,templateUrl:"/app/apps/workorder/views/logs.html",controller:"WorkOrderLogsCtrl"}}]),angular.module("WorkOrderApp.Directives").directive("parts",[function(){return{restrict:"E",scope:!0,templateUrl:"/app/apps/workorder/views/parts.html",controller:"WorkOrderPartsCtrl"}}]),angular.module("WorkOrderApp.Directives").directive("pressure",[function(){return{restrict:"E",templateUrl:"/app/apps/workorder/views/pressure.html",link:function(e,t,r,n,o){}}}]),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(e){"use strict";function t(){var e=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var r in t)if(void 0!==e.style[r])return{end:t[r]};return!1}e.fn.emulateTransitionEnd=function(t){var r=!1,n=this;e(this).one("bsTransitionEnd",function(){r=!0});var o=function(){r||e(n).trigger(e.support.transition.end)};return setTimeout(o,t),this},e(function(){e.support.transition=t(),e.support.transition&&(e.event.special.bsTransitionEnd={bindType:e.support.transition.end,delegateType:e.support.transition.end,handle:function(t){return e(t.target).is(this)?t.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var r=e(this),o=r.data("bs.alert");o||r.data("bs.alert",o=new n(this)),"string"==typeof t&&o[t].call(r)})}var r='[data-dismiss="alert"]',n=function(t){e(t).on("click",r,this.close)};n.VERSION="3.2.0",n.prototype.close=function(t){function r(){i.detach().trigger("closed.bs.alert").remove()}var n=e(this),o=n.attr("data-target");o||(o=n.attr("href"),o=o&&o.replace(/.*(?=#[^\s]*$)/,""));var i=e(o);t&&t.preventDefault(),i.length||(i=n.hasClass("alert")?n:n.parent()),i.trigger(t=e.Event("close.bs.alert")),t.isDefaultPrevented()||(i.removeClass("in"),e.support.transition&&i.hasClass("fade")?i.one("bsTransitionEnd",r).emulateTransitionEnd(150):r())};var o=e.fn.alert;e.fn.alert=t,e.fn.alert.Constructor=n,e.fn.alert.noConflict=function(){return e.fn.alert=o,this},e(document).on("click.bs.alert.data-api",r,n.prototype.close)}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var n=e(this),o=n.data("bs.button"),i="object"==typeof t&&t;o||n.data("bs.button",o=new r(this,i)),"toggle"==t?o.toggle():t&&o.setState(t)})}var r=function(t,n){this.$element=e(t),this.options=e.extend({},r.DEFAULTS,n),this.isLoading=!1};r.VERSION="3.2.0",r.DEFAULTS={loadingText:"loading..."},r.prototype.setState=function(t){var r="disabled",n=this.$element,o=n.is("input")?"val":"html",i=n.data();t+="Text",null==i.resetText&&n.data("resetText",n[o]()),n[o](null==i[t]?this.options[t]:i[t]),setTimeout(e.proxy(function(){"loadingText"==t?(this.isLoading=!0,n.addClass(r).attr(r,r)):this.isLoading&&(this.isLoading=!1,n.removeClass(r).removeAttr(r))},this),0)},r.prototype.toggle=function(){var e=!0,t=this.$element.closest('[data-toggle="buttons"]');if(t.length){var r=this.$element.find("input");"radio"==r.prop("type")&&(r.prop("checked")&&this.$element.hasClass("active")?e=!1:t.find(".active").removeClass("active")),e&&r.prop("checked",!this.$element.hasClass("active")).trigger("change")}e&&this.$element.toggleClass("active")};var n=e.fn.button;e.fn.button=t,e.fn.button.Constructor=r,e.fn.button.noConflict=function(){return e.fn.button=n,this},e(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(r){var n=e(r.target);n.hasClass("btn")||(n=n.closest(".btn")),t.call(n,"toggle"),r.preventDefault()})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var n=e(this),o=n.data("bs.carousel"),i=e.extend({},r.DEFAULTS,n.data(),"object"==typeof t&&t),a="string"==typeof t?t:i.slide;o||n.data("bs.carousel",o=new r(this,i)),"number"==typeof t?o.to(t):a?o[a]():i.interval&&o.pause().cycle()})}var r=function(t,r){this.$element=e(t).on("keydown.bs.carousel",e.proxy(this.keydown,this)),this.$indicators=this.$element.find(".carousel-indicators"),this.options=r,this.paused=this.sliding=this.interval=this.$active=this.$items=null,"hover"==this.options.pause&&this.$element.on("mouseenter.bs.carousel",e.proxy(this.pause,this)).on("mouseleave.bs.carousel",e.proxy(this.cycle,this))};r.VERSION="3.2.0",r.DEFAULTS={interval:5e3,pause:"hover",wrap:!0},r.prototype.keydown=function(e){switch(e.which){case 37:this.prev();break;case 39:this.next();break;default:return}e.preventDefault()},r.prototype.cycle=function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(e.proxy(this.next,this),this.options.interval)),this},r.prototype.getItemIndex=function(e){return this.$items=e.parent().children(".item"),this.$items.index(e||this.$active)},r.prototype.to=function(t){var r=this,n=this.getItemIndex(this.$active=this.$element.find(".item.active"));return t>this.$items.length-1||0>t?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){r.to(t)}):n==t?this.pause().cycle():this.slide(t>n?"next":"prev",e(this.$items[t]))},r.prototype.pause=function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&e.support.transition&&(this.$element.trigger(e.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},r.prototype.next=function(){return this.sliding?void 0:this.slide("next")},r.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},r.prototype.slide=function(t,r){var n=this.$element.find(".item.active"),o=r||n[t](),i=this.interval,a="next"==t?"left":"right",s="next"==t?"first":"last",l=this;if(!o.length){if(!this.options.wrap)return;o=this.$element.find(".item")[s]()}if(o.hasClass("active"))return this.sliding=!1;var c=o[0],u=e.Event("slide.bs.carousel",{relatedTarget:c,direction:a});if(this.$element.trigger(u),!u.isDefaultPrevented()){if(this.sliding=!0,i&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var d=e(this.$indicators.children()[this.getItemIndex(o)]);d&&d.addClass("active")}var p=e.Event("slid.bs.carousel",{relatedTarget:c,direction:a});return e.support.transition&&this.$element.hasClass("slide")?(o.addClass(t),o[0].offsetWidth,n.addClass(a),o.addClass(a),n.one("bsTransitionEnd",function(){o.removeClass([t,a].join(" ")).addClass("active"),n.removeClass(["active",a].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger(p)},0)}).emulateTransitionEnd(1e3*n.css("transition-duration").slice(0,-1))):(n.removeClass("active"),o.addClass("active"),this.sliding=!1,this.$element.trigger(p)),i&&this.cycle(),this}};var n=e.fn.carousel;e.fn.carousel=t,e.fn.carousel.Constructor=r,e.fn.carousel.noConflict=function(){return e.fn.carousel=n,this},e(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",function(r){var n,o=e(this),i=e(o.attr("data-target")||(n=o.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,""));if(i.hasClass("carousel")){var a=e.extend({},i.data(),o.data()),s=o.attr("data-slide-to");s&&(a.interval=!1),t.call(i,a),s&&i.data("bs.carousel").to(s),r.preventDefault()}}),e(window).on("load",function(){e('[data-ride="carousel"]').each(function(){var r=e(this);t.call(r,r.data())})})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var n=e(this),o=n.data("bs.collapse"),i=e.extend({},r.DEFAULTS,n.data(),"object"==typeof t&&t);!o&&i.toggle&&"show"==t&&(t=!t),o||n.data("bs.collapse",o=new r(this,i)),"string"==typeof t&&o[t]()})}var r=function(t,n){this.$element=e(t),this.options=e.extend({},r.DEFAULTS,n),this.transitioning=null,this.options.parent&&(this.$parent=e(this.options.parent)),this.options.toggle&&this.toggle()};r.VERSION="3.2.0",r.DEFAULTS={toggle:!0},r.prototype.dimension=function(){var e=this.$element.hasClass("width");return e?"width":"height"},r.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var r=e.Event("show.bs.collapse");if(this.$element.trigger(r),!r.isDefaultPrevented()){var n=this.$parent&&this.$parent.find("> .panel > .in");if(n&&n.length){var o=n.data("bs.collapse");if(o&&o.transitioning)return;t.call(n,"hide"),o||n.data("bs.collapse",null)}var i=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[i](0),this.transitioning=1;var a=function(){this.$element.removeClass("collapsing").addClass("collapse in")[i](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!e.support.transition)return a.call(this);var s=e.camelCase(["scroll",i].join("-"));this.$element.one("bsTransitionEnd",e.proxy(a,this)).emulateTransitionEnd(350)[i](this.$element[0][s])}}},r.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var t=e.Event("hide.bs.collapse");if(this.$element.trigger(t),!t.isDefaultPrevented()){var r=this.dimension();this.$element[r](this.$element[r]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse").removeClass("in"),this.transitioning=1;var n=function(){this.transitioning=0,this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")};return e.support.transition?void this.$element[r](0).one("bsTransitionEnd",e.proxy(n,this)).emulateTransitionEnd(350):n.call(this)}}},r.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};var n=e.fn.collapse;e.fn.collapse=t,e.fn.collapse.Constructor=r,e.fn.collapse.noConflict=function(){return e.fn.collapse=n,this},e(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(r){var n,o=e(this),i=o.attr("data-target")||r.preventDefault()||(n=o.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,""),a=e(i),s=a.data("bs.collapse"),l=s?"toggle":o.data(),c=o.attr("data-parent"),u=c&&e(c);s&&s.transitioning||(u&&u.find('[data-toggle="collapse"][data-parent="'+c+'"]').not(o).addClass("collapsed"),o[a.hasClass("in")?"addClass":"removeClass"]("collapsed")),t.call(a,l)})}(jQuery),+function(e){"use strict";function t(t){t&&3===t.which||(e(o).remove(),e(i).each(function(){var n=r(e(this)),o={relatedTarget:this};n.hasClass("open")&&(n.trigger(t=e.Event("hide.bs.dropdown",o)),t.isDefaultPrevented()||n.removeClass("open").trigger("hidden.bs.dropdown",o))}))}function r(t){var r=t.attr("data-target");r||(r=t.attr("href"),r=r&&/#[A-Za-z]/.test(r)&&r.replace(/.*(?=#[^\s]*$)/,""));var n=r&&e(r);return n&&n.length?n:t.parent()}function n(t){return this.each(function(){var r=e(this),n=r.data("bs.dropdown");n||r.data("bs.dropdown",n=new a(this)),"string"==typeof t&&n[t].call(r)})}var o=".dropdown-backdrop",i='[data-toggle="dropdown"]',a=function(t){e(t).on("click.bs.dropdown",this.toggle)};a.VERSION="3.2.0",a.prototype.toggle=function(n){var o=e(this);if(!o.is(".disabled, :disabled")){var i=r(o),a=i.hasClass("open");if(t(),!a){"ontouchstart"in document.documentElement&&!i.closest(".navbar-nav").length&&e('<div class="dropdown-backdrop"/>').insertAfter(e(this)).on("click",t);var s={relatedTarget:this};if(i.trigger(n=e.Event("show.bs.dropdown",s)),n.isDefaultPrevented())return;o.trigger("focus"),i.toggleClass("open").trigger("shown.bs.dropdown",s)}return!1}},a.prototype.keydown=function(t){if(/(38|40|27)/.test(t.keyCode)){var n=e(this);if(t.preventDefault(),t.stopPropagation(),!n.is(".disabled, :disabled")){var o=r(n),a=o.hasClass("open");if(!a||a&&27==t.keyCode)return 27==t.which&&o.find(i).trigger("focus"),n.trigger("click");var s=" li:not(.divider):visible a",l=o.find('[role="menu"]'+s+', [role="listbox"]'+s);if(l.length){var c=l.index(l.filter(":focus"));38==t.keyCode&&c>0&&c--,40==t.keyCode&&c<l.length-1&&c++,~c||(c=0),l.eq(c).trigger("focus")}}}};var s=e.fn.dropdown;e.fn.dropdown=n,e.fn.dropdown.Constructor=a,e.fn.dropdown.noConflict=function(){return e.fn.dropdown=s,this},e(document).on("click.bs.dropdown.data-api",t).on("click.bs.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.bs.dropdown.data-api",i,a.prototype.toggle).on("keydown.bs.dropdown.data-api",i+', [role="menu"], [role="listbox"]',a.prototype.keydown)}(jQuery),+function(e){"use strict";function t(t,n){return this.each(function(){var o=e(this),i=o.data("bs.modal"),a=e.extend({},r.DEFAULTS,o.data(),"object"==typeof t&&t);i||o.data("bs.modal",i=new r(this,a)),"string"==typeof t?i[t](n):a.show&&i.show(n)})}var r=function(t,r){this.options=r,this.$body=e(document.body),this.$element=e(t),this.$backdrop=this.isShown=null,this.scrollbarWidth=0,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,e.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};r.VERSION="3.2.0",r.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},r.prototype.toggle=function(e){return this.isShown?this.hide():this.show(e)},r.prototype.show=function(t){var r=this,n=e.Event("show.bs.modal",{relatedTarget:t});this.$element.trigger(n),this.isShown||n.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.$body.addClass("modal-open"),this.setScrollbar(),this.escape(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',e.proxy(this.hide,this)),this.backdrop(function(){var n=e.support.transition&&r.$element.hasClass("fade");r.$element.parent().length||r.$element.appendTo(r.$body),r.$element.show().scrollTop(0),n&&r.$element[0].offsetWidth,r.$element.addClass("in").attr("aria-hidden",!1),r.enforceFocus();var o=e.Event("shown.bs.modal",{relatedTarget:t});n?r.$element.find(".modal-dialog").one("bsTransitionEnd",function(){r.$element.trigger("focus").trigger(o)}).emulateTransitionEnd(300):r.$element.trigger("focus").trigger(o)}))},r.prototype.hide=function(t){t&&t.preventDefault(),t=e.Event("hide.bs.modal"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.$body.removeClass("modal-open"),this.resetScrollbar(),this.escape(),e(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal"),e.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",e.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())},r.prototype.enforceFocus=function(){e(document).off("focusin.bs.modal").on("focusin.bs.modal",e.proxy(function(e){this.$element[0]===e.target||this.$element.has(e.target).length||this.$element.trigger("focus")},this))},r.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.bs.modal",e.proxy(function(e){27==e.which&&this.hide()},this)):this.isShown||this.$element.off("keyup.dismiss.bs.modal")},r.prototype.hideModal=function(){var e=this;this.$element.hide(),this.backdrop(function(){e.$element.trigger("hidden.bs.modal")})},r.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},r.prototype.backdrop=function(t){var r=this,n=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var o=e.support.transition&&n;if(this.$backdrop=e('<div class="modal-backdrop '+n+'" />').appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",e.proxy(function(e){e.target===e.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),o&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;o?this.$backdrop.one("bsTransitionEnd",t).emulateTransitionEnd(150):t()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var i=function(){r.removeBackdrop(),t&&t()};e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",i).emulateTransitionEnd(150):i()}else t&&t()},r.prototype.checkScrollbar=function(){document.body.clientWidth>=window.innerWidth||(this.scrollbarWidth=this.scrollbarWidth||this.measureScrollbar())},r.prototype.setScrollbar=function(){var e=parseInt(this.$body.css("padding-right")||0,10);this.scrollbarWidth&&this.$body.css("padding-right",e+this.scrollbarWidth)},r.prototype.resetScrollbar=function(){this.$body.css("padding-right","")},r.prototype.measureScrollbar=function(){var e=document.createElement("div");e.className="modal-scrollbar-measure",this.$body.append(e);var t=e.offsetWidth-e.clientWidth;return this.$body[0].removeChild(e),t};var n=e.fn.modal;e.fn.modal=t,e.fn.modal.Constructor=r,e.fn.modal.noConflict=function(){return e.fn.modal=n,this},e(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(r){var n=e(this),o=n.attr("href"),i=e(n.attr("data-target")||o&&o.replace(/.*(?=#[^\s]+$)/,"")),a=i.data("bs.modal")?"toggle":e.extend({remote:!/#/.test(o)&&o},i.data(),n.data());n.is("a")&&r.preventDefault(),i.one("show.bs.modal",function(e){e.isDefaultPrevented()||i.one("hidden.bs.modal",function(){n.is(":visible")&&n.trigger("focus")})}),t.call(i,a,this)})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var n=e(this),o=n.data("bs.tooltip"),i="object"==typeof t&&t;(o||"destroy"!=t)&&(o||n.data("bs.tooltip",o=new r(this,i)),"string"==typeof t&&o[t]())})}var r=function(e,t){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",e,t)};r.VERSION="3.2.0",r.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},r.prototype.init=function(t,r,n){this.enabled=!0,this.type=t,this.$element=e(r),this.options=this.getOptions(n),this.$viewport=this.options.viewport&&e(this.options.viewport.selector||this.options.viewport);for(var o=this.options.trigger.split(" "),i=o.length;i--;){var a=o[i];if("click"==a)this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this));else if("manual"!=a){var s="hover"==a?"mouseenter":"focusin",l="hover"==a?"mouseleave":"focusout";this.$element.on(s+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,e.proxy(this.leave,this))}}this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},r.prototype.getDefaults=function(){return r.DEFAULTS},r.prototype.getOptions=function(t){return t=e.extend({},this.getDefaults(),this.$element.data(),t),t.delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},r.prototype.getDelegateOptions=function(){var t={},r=this.getDefaults();return this._options&&e.each(this._options,function(e,n){r[e]!=n&&(t[e]=n)}),t},r.prototype.enter=function(t){var r=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);return r||(r=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,r)),clearTimeout(r.timeout),r.hoverState="in",r.options.delay&&r.options.delay.show?void(r.timeout=setTimeout(function(){"in"==r.hoverState&&r.show()},r.options.delay.show)):r.show()},r.prototype.leave=function(t){var r=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);return r||(r=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,r)),clearTimeout(r.timeout),r.hoverState="out",r.options.delay&&r.options.delay.hide?void(r.timeout=setTimeout(function(){"out"==r.hoverState&&r.hide()},r.options.delay.hide)):r.hide()},r.prototype.show=function(){var t=e.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(t);var r=e.contains(document.documentElement,this.$element[0]);if(t.isDefaultPrevented()||!r)return;var n=this,o=this.tip(),i=this.getUID(this.type);this.setContent(),o.attr("id",i),this.$element.attr("aria-describedby",i),this.options.animation&&o.addClass("fade");var a="function"==typeof this.options.placement?this.options.placement.call(this,o[0],this.$element[0]):this.options.placement,s=/\s?auto?\s?/i,l=s.test(a);l&&(a=a.replace(s,"")||"top"),o.detach().css({top:0,left:0,display:"block"}).addClass(a).data("bs."+this.type,this),this.options.container?o.appendTo(this.options.container):o.insertAfter(this.$element);var c=this.getPosition(),u=o[0].offsetWidth,d=o[0].offsetHeight;if(l){var p=a,f=this.$element.parent(),h=this.getPosition(f);a="bottom"==a&&c.top+c.height+d-h.scroll>h.height?"top":"top"==a&&c.top-h.scroll-d<0?"bottom":"right"==a&&c.right+u>h.width?"left":"left"==a&&c.left-u<h.left?"right":a,o.removeClass(p).addClass(a)}var m=this.getCalculatedOffset(a,c,u,d);this.applyPlacement(m,a);var v=function(){n.$element.trigger("shown.bs."+n.type),n.hoverState=null};e.support.transition&&this.$tip.hasClass("fade")?o.one("bsTransitionEnd",v).emulateTransitionEnd(150):v()}},r.prototype.applyPlacement=function(t,r){var n=this.tip(),o=n[0].offsetWidth,i=n[0].offsetHeight,a=parseInt(n.css("margin-top"),10),s=parseInt(n.css("margin-left"),10);isNaN(a)&&(a=0),isNaN(s)&&(s=0),t.top=t.top+a,t.left=t.left+s,e.offset.setOffset(n[0],e.extend({using:function(e){n.css({top:Math.round(e.top),left:Math.round(e.left)})}},t),0),n.addClass("in");var l=n[0].offsetWidth,c=n[0].offsetHeight;"top"==r&&c!=i&&(t.top=t.top+i-c);var u=this.getViewportAdjustedDelta(r,t,l,c);u.left?t.left+=u.left:t.top+=u.top;var d=u.left?2*u.left-o+l:2*u.top-i+c,p=u.left?"left":"top",f=u.left?"offsetWidth":"offsetHeight";n.offset(t),this.replaceArrow(d,n[0][f],p)},r.prototype.replaceArrow=function(e,t,r){this.arrow().css(r,e?50*(1-e/t)+"%":"")},r.prototype.setContent=function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},r.prototype.hide=function(){function t(){"in"!=r.hoverState&&n.detach(),r.$element.trigger("hidden.bs."+r.type)}var r=this,n=this.tip(),o=e.Event("hide.bs."+this.type);return this.$element.removeAttr("aria-describedby"),this.$element.trigger(o),o.isDefaultPrevented()?void 0:(n.removeClass("in"),e.support.transition&&this.$tip.hasClass("fade")?n.one("bsTransitionEnd",t).emulateTransitionEnd(150):t(),this.hoverState=null,this)},r.prototype.fixTitle=function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("data-original-title"))&&e.attr("data-original-title",e.attr("title")||"").attr("title","")},r.prototype.hasContent=function(){return this.getTitle()},r.prototype.getPosition=function(t){t=t||this.$element;var r=t[0],n="BODY"==r.tagName;return e.extend({},"function"==typeof r.getBoundingClientRect?r.getBoundingClientRect():null,{scroll:n?document.documentElement.scrollTop||document.body.scrollTop:t.scrollTop(),width:n?e(window).width():t.outerWidth(),height:n?e(window).height():t.outerHeight()},n?{top:0,left:0}:t.offset())},r.prototype.getCalculatedOffset=function(e,t,r,n){return"bottom"==e?{top:t.top+t.height,left:t.left+t.width/2-r/2}:"top"==e?{top:t.top-n,left:t.left+t.width/2-r/2}:"left"==e?{top:t.top+t.height/2-n/2,left:t.left-r}:{top:t.top+t.height/2-n/2,left:t.left+t.width}},r.prototype.getViewportAdjustedDelta=function(e,t,r,n){var o={top:0,left:0};if(!this.$viewport)return o;var i=this.options.viewport&&this.options.viewport.padding||0,a=this.getPosition(this.$viewport);if(/right|left/.test(e)){var s=t.top-i-a.scroll,l=t.top+i-a.scroll+n;s<a.top?o.top=a.top-s:l>a.top+a.height&&(o.top=a.top+a.height-l)}else{var c=t.left-i,u=t.left+i+r;c<a.left?o.left=a.left-c:u>a.width&&(o.left=a.left+a.width-u)}return o},r.prototype.getTitle=function(){var e,t=this.$element,r=this.options;return e=t.attr("data-original-title")||("function"==typeof r.title?r.title.call(t[0]):r.title)},r.prototype.getUID=function(e){do e+=~~(1e6*Math.random());while(document.getElementById(e));return e},r.prototype.tip=function(){return this.$tip=this.$tip||e(this.options.template)},r.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},r.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},r.prototype.enable=function(){this.enabled=!0},r.prototype.disable=function(){this.enabled=!1},r.prototype.toggleEnabled=function(){this.enabled=!this.enabled},r.prototype.toggle=function(t){var r=this;t&&(r=e(t.currentTarget).data("bs."+this.type),r||(r=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,r))),r.tip().hasClass("in")?r.leave(r):r.enter(r)},r.prototype.destroy=function(){clearTimeout(this.timeout),this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var n=e.fn.tooltip;e.fn.tooltip=t,e.fn.tooltip.Constructor=r,e.fn.tooltip.noConflict=function(){return e.fn.tooltip=n,
this}}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var n=e(this),o=n.data("bs.popover"),i="object"==typeof t&&t;(o||"destroy"!=t)&&(o||n.data("bs.popover",o=new r(this,i)),"string"==typeof t&&o[t]())})}var r=function(e,t){this.init("popover",e,t)};if(!e.fn.tooltip)throw new Error("Popover requires tooltip.js");r.VERSION="3.2.0",r.DEFAULTS=e.extend({},e.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),r.prototype=e.extend({},e.fn.tooltip.Constructor.prototype),r.prototype.constructor=r,r.prototype.getDefaults=function(){return r.DEFAULTS},r.prototype.setContent=function(){var e=this.tip(),t=this.getTitle(),r=this.getContent();e.find(".popover-title")[this.options.html?"html":"text"](t),e.find(".popover-content").empty()[this.options.html?"string"==typeof r?"html":"append":"text"](r),e.removeClass("fade top bottom left right in"),e.find(".popover-title").html()||e.find(".popover-title").hide()},r.prototype.hasContent=function(){return this.getTitle()||this.getContent()},r.prototype.getContent=function(){var e=this.$element,t=this.options;return e.attr("data-content")||("function"==typeof t.content?t.content.call(e[0]):t.content)},r.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},r.prototype.tip=function(){return this.$tip||(this.$tip=e(this.options.template)),this.$tip};var n=e.fn.popover;e.fn.popover=t,e.fn.popover.Constructor=r,e.fn.popover.noConflict=function(){return e.fn.popover=n,this}}(jQuery),+function(e){"use strict";function t(r,n){var o=e.proxy(this.process,this);this.$body=e("body"),this.$scrollElement=e(e(r).is("body")?window:r),this.options=e.extend({},t.DEFAULTS,n),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",o),this.refresh(),this.process()}function r(r){return this.each(function(){var n=e(this),o=n.data("bs.scrollspy"),i="object"==typeof r&&r;o||n.data("bs.scrollspy",o=new t(this,i)),"string"==typeof r&&o[r]()})}t.VERSION="3.2.0",t.DEFAULTS={offset:10},t.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},t.prototype.refresh=function(){var t="offset",r=0;e.isWindow(this.$scrollElement[0])||(t="position",r=this.$scrollElement.scrollTop()),this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight();var n=this;this.$body.find(this.selector).map(function(){var n=e(this),o=n.data("target")||n.attr("href"),i=/^#./.test(o)&&e(o);return i&&i.length&&i.is(":visible")&&[[i[t]().top+r,o]]||null}).sort(function(e,t){return e[0]-t[0]}).each(function(){n.offsets.push(this[0]),n.targets.push(this[1])})},t.prototype.process=function(){var e,t=this.$scrollElement.scrollTop()+this.options.offset,r=this.getScrollHeight(),n=this.options.offset+r-this.$scrollElement.height(),o=this.offsets,i=this.targets,a=this.activeTarget;if(this.scrollHeight!=r&&this.refresh(),t>=n)return a!=(e=i[i.length-1])&&this.activate(e);if(a&&t<=o[0])return a!=(e=i[0])&&this.activate(e);for(e=o.length;e--;)a!=i[e]&&t>=o[e]&&(!o[e+1]||t<=o[e+1])&&this.activate(i[e])},t.prototype.activate=function(t){this.activeTarget=t,e(this.selector).parentsUntil(this.options.target,".active").removeClass("active");var r=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',n=e(r).parents("li").addClass("active");n.parent(".dropdown-menu").length&&(n=n.closest("li.dropdown").addClass("active")),n.trigger("activate.bs.scrollspy")};var n=e.fn.scrollspy;e.fn.scrollspy=r,e.fn.scrollspy.Constructor=t,e.fn.scrollspy.noConflict=function(){return e.fn.scrollspy=n,this},e(window).on("load.bs.scrollspy.data-api",function(){e('[data-spy="scroll"]').each(function(){var t=e(this);r.call(t,t.data())})})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var n=e(this),o=n.data("bs.tab");o||n.data("bs.tab",o=new r(this)),"string"==typeof t&&o[t]()})}var r=function(t){this.element=e(t)};r.VERSION="3.2.0",r.prototype.show=function(){var t=this.element,r=t.closest("ul:not(.dropdown-menu)"),n=t.data("target");if(n||(n=t.attr("href"),n=n&&n.replace(/.*(?=#[^\s]*$)/,"")),!t.parent("li").hasClass("active")){var o=r.find(".active:last a")[0],i=e.Event("show.bs.tab",{relatedTarget:o});if(t.trigger(i),!i.isDefaultPrevented()){var a=e(n);this.activate(t.closest("li"),r),this.activate(a,a.parent(),function(){t.trigger({type:"shown.bs.tab",relatedTarget:o})})}}},r.prototype.activate=function(t,r,n){function o(){i.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),t.addClass("active"),a?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu")&&t.closest("li.dropdown").addClass("active"),n&&n()}var i=r.find("> .active"),a=n&&e.support.transition&&i.hasClass("fade");a?i.one("bsTransitionEnd",o).emulateTransitionEnd(150):o(),i.removeClass("in")};var n=e.fn.tab;e.fn.tab=t,e.fn.tab.Constructor=r,e.fn.tab.noConflict=function(){return e.fn.tab=n,this},e(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(r){r.preventDefault(),t.call(e(this),"show")})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var n=e(this),o=n.data("bs.affix"),i="object"==typeof t&&t;o||n.data("bs.affix",o=new r(this,i)),"string"==typeof t&&o[t]()})}var r=function(t,n){this.options=e.extend({},r.DEFAULTS,n),this.$target=e(this.options.target).on("scroll.bs.affix.data-api",e.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",e.proxy(this.checkPositionWithEventLoop,this)),this.$element=e(t),this.affixed=this.unpin=this.pinnedOffset=null,this.checkPosition()};r.VERSION="3.2.0",r.RESET="affix affix-top affix-bottom",r.DEFAULTS={offset:0,target:window},r.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(r.RESET).addClass("affix");var e=this.$target.scrollTop(),t=this.$element.offset();return this.pinnedOffset=t.top-e},r.prototype.checkPositionWithEventLoop=function(){setTimeout(e.proxy(this.checkPosition,this),1)},r.prototype.checkPosition=function(){if(this.$element.is(":visible")){var t=e(document).height(),n=this.$target.scrollTop(),o=this.$element.offset(),i=this.options.offset,a=i.top,s=i.bottom;"object"!=typeof i&&(s=a=i),"function"==typeof a&&(a=i.top(this.$element)),"function"==typeof s&&(s=i.bottom(this.$element));var l=null!=this.unpin&&n+this.unpin<=o.top?!1:null!=s&&o.top+this.$element.height()>=t-s?"bottom":null!=a&&a>=n?"top":!1;if(this.affixed!==l){null!=this.unpin&&this.$element.css("top","");var c="affix"+(l?"-"+l:""),u=e.Event(c+".bs.affix");this.$element.trigger(u),u.isDefaultPrevented()||(this.affixed=l,this.unpin="bottom"==l?this.getPinnedOffset():null,this.$element.removeClass(r.RESET).addClass(c).trigger(e.Event(c.replace("affix","affixed"))),"bottom"==l&&this.$element.offset({top:t-this.$element.height()-s}))}}};var n=e.fn.affix;e.fn.affix=t,e.fn.affix.Constructor=r,e.fn.affix.noConflict=function(){return e.fn.affix=n,this},e(window).on("load",function(){e('[data-spy="affix"]').each(function(){var r=e(this),n=r.data();n.offset=n.offset||{},n.offsetBottom&&(n.offset.bottom=n.offsetBottom),n.offsetTop&&(n.offset.top=n.offsetTop),t.call(r,n)})})}(jQuery),function e(t,r,n){function o(a,s){if(!r[a]){if(!t[a]){var l="function"==typeof require&&require;if(!s&&l)return l(a,!0);if(i)return i(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var u=r[a]={exports:{}};t[a][0].call(u.exports,function(e){var r=t[a][1][e];return o(r?r:e)},u,u.exports,e,t,r,n)}return r[a].exports}for(var i="function"==typeof require&&require,a=0;a<n.length;a++)o(n[a]);return o}({1:[function(e,t,r){},{}]},{},[1]);