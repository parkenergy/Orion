<div id="CrCreateOpportunityInfo"
     class="panel panel-default">

  <div class="panel-heading">
    <h3 class="panel-title">Company/Application</h3>
  </div>

  <!-- Panel for opportunity info -->
  <div class="panel-body cr-opportunity-info">

    <!-- validation check for crOppInfo --->
    <!--<form name="crOppInfo">-->

    <!-- row 1 -->
    <div class="row">

      <!-- col 1 -->
      <div class="col-md-1">
        <label>New</label>
        <input
          class="cr-checkbox"
          type="checkbox"
          ng-model="$ctrl.callreport.newCustomer"
          ng-change="$ctrl.checkboxChange($ctrl.callreport.newCustomer, 'newCustomer')">
      </div>

      <!-- col 2 -->
      <!-- Not a new Customer -->
      <div class="col-md-3"
           ng-if="!$ctrl.callreport.newCustomer">
        <div class="form-group" ng-class="{'has-error': $ctrl.crOppInfo.customer1.$invalid && !$ctrl.crOppInfo.customer1.$pristine }">
          <label>Customer</label>
          <input type="text"
                 ng-model="$ctrl.callreport.customer"
                 name="customer1"
                 class="form-control"
                 ng-change="$ctrl.typeaheadChange($ctrl.callreport.customer,'customer')"
                 uib-typeahead="item for item in $ctrl.objItemArray | filter:$viewValue | limitTo:12"
                 typeahead-select-on-exact="true"
                 typeahead-on-select="$ctrl.typeaheadChange($ctrl.callreport.customer,'customer')"
                 required>
        </div>

      </div>

      <!-- A new Customer -->
      <div class="col-md-3"
           ng-if="$ctrl.callreport.newCustomer">
        <div class="form-group" ng-class="{'has-error': $ctrl.crOppInfo.customer2.$invalid && !$ctrl.crOppInfo.customer2.$pristine }">
          <label>Customer</label>
          <input
            type="text"
            class="form-control"
            name="customer2"
            ng-model="$ctrl.callreport.customer"
            placeholder="Ex: Texas Petroleum"
            ng-change="$ctrl.textFieldChange($ctrl.callreport.customer,'customer')"
            required>
        </div>
      </div>

      <!-- col 3 -->
      <div class="col-md-3">
        <!-- Drop down list for activity type -->
        <div class="form-group" ng-class="{'has-error': $ctrl.crOppInfo.status.$invalid}" ng-show="!$ctrl.otherStatus">
          <label>Status</label>
          <select
            class="form-control"
            ng-model="$ctrl.callreport.status"
            name="status"
            ng-change="$ctrl.selectFieldChange($ctrl.callreport.status,'status')"
            ng-options="item.status as item.status for item in $ctrl.statustypes | filter:$select"
            required>
          </select>
        </div>

        <!-- if Other is selected from status' -->
        <div class="form-group" ng-class="{ 'has-error': $ctrl.crOppInfo.status.$invalid && !$ctrl.crOppInfo.status.$pristine}" ng-show="$ctrl.otherStatus">
          <label>Status</label>
          <input
            type="text"
            class="form-control"
            ng-model="$ctrl.callreport.status"
            name="status"
            ng-change="$ctrl.textFieldChange($ctrl.callreport.status,'status')"
            placeholder="Back to list type:  *"
            required>
        </div>
      </div>

      <!-- col 4 -->
      <div class="col-md-3">
        <!-- Drop down list for application types -->
        <div class="form-group" ng-class="{'has-error': $ctrl.crOppInfo.appType.$invalid}" ng-if="!$ctrl.otherAppType">
          <label>Application Type</label>
          <select
            class="form-control"
            ng-model="$ctrl.callreport.applicationType"
            name="appType"
            ng-change="$ctrl.selectFieldChange($ctrl.callreport.applicationType,'applicationType')"
            ng-options="item.type as item.type for item in $ctrl.applicationtypes | filter:$select"
            required>
          </select>
        </div>

        <!-- if Other is selected from application types -->
        <div class="form-group" ng-class="{ 'has-error': $ctrl.crOppInfo.appType.$invalid && !$ctrl.crOppInfo.appType.$pristine}" ng-show="$ctrl.otherAppType">
          <label>Application Type</label>
          <input
            type="text"
            class="form-control"
            ng-model="$ctrl.callreport.applicationType"
            name="appType"
            ng-change="$ctrl.textFieldChange($ctrl.callreport.applicationType,'applicationType')"
            placeholder="Back to list type:  *"
            required>
        </div>
      </div>

      <!-- col 5 -->
      <div class="col-md-2">
        <!-- List for unit Types -->
        <select-list
          ng-show="!$ctrl.otherUnitType"
          label-text="Unit Type"
          on-data-change="$ctrl.selectFieldChange(changedData, selected)"
          select-field="type"
          display-field="type"
          model-name="unitType"
          data="$ctrl.callreport.unitType"
          array-list="$ctrl.unittypes">
        </select-list>

        <!-- Text if other is selected for unit types -->
        <text-field
          ng-show="$ctrl.otherUnitType"
          label-text="Unit Type"
          model-name="unitType"
          placeholder-text="Back to list type:  *"
          on-data-change="$ctrl.textFieldChange(changedData, selected)"
          data="$ctrl.callreport.unitType">
        </text-field>
      </div>

    </div> <!-- end of row 1 -->

    <!-- row 2 -->
    <div class="row">

      <!-- col 1 -->
      <div class="col-md-3">
        <div class="form-group" ng-class="{'has-error': $ctrl.crOppInfo.location.$invalid && !$ctrl.crOppInfo.location.$pristine}">
          <label>Office Location</label>
          <input
            type="text"
            class="form-control"
            ng-model="$ctrl.callreport.officeLocation"
            name="location"
            placeholder="Ex: Midland"
            ng-change="$ctrl.textFieldChange($ctrl.callreport.officeLocation,'officeLocation')"
            required>
        </div>
      </div>

      <!-- col 2 -->
      <div class="col-md-3">
        <select-list
          label-text="Size of Opp"
          on-data-change="$ctrl.selectFieldChange(changedData, selected)"
          select-field="size"
          display-field="size"
          model-name="size"
          data="$ctrl.callreport.size"
          array-list="$ctrl.opportunitysizes">
        </select-list>
      </div>

      <!-- col 3 -->
      <div class="col-md-3">
        <select-list
          label-text="Opp Type"
          on-data-change="$ctrl.selectFieldChange(changedData, selected)"
          select-field="type"
          display-field="type"
          model-name="oppType"
          data="$ctrl.callreport.oppType"
          array-list="$ctrl.opptypes">
        </select-list>
      </div>

      <!-- col 4 -->
      <div class="col-md-3">
        <text-field
          label-text="Current Spend"
          model-name="currentSpend"
          placeholder-text="Ex: 50"
          on-data-change="$ctrl.textFieldChange(changedData, selected)"
          data="$ctrl.callreport.currentSpend">
        </text-field>
      </div>

    </div> <!-- end of row 2 -->

    <!--</form>--> <!-- end of crOppInfo form -->

  </div> <!-- end of panel -->

</div> <!-- end of component -->
