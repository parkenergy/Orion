<alerts></alerts>
<header></header>

<div id="InventoryTranfersOverview">
    <div>
        <div align="center">
            <i
                ng-show="spinner"
                class="fa fa-refresh fa-spin inventory-transfers-overview"
            ></i>
        </div>
        <div id="InventoryTransfersOverviewTable" class="panel panel-default">
            <div class="panel-heading clearfix">
                <h3 class="panel-title pull-left">Inventory Transfers</h3>
            </div>
            <div
                class="panel-body inventoryTransfers-main-dash-body"
                ng-show="loaded"
            >
                <div class="btn-group">
                    <label
                        class="btn"
                        ng-model="currentTab"
                        uib-btn-radio="'ManualParts'"
                        ng-change="updateTable()"
                        >Manual Parts
                        ({{manualPartsInventoryTransfers.length}})</label
                    >
                    <label
                        class="btn"
                        ng-model="currentTab"
                        uib-btn-radio="'Incomplete'"
                        ng-change="updateTable()"
                        >Incomplete
                        ({{incompletedInventoryTransfers.length}})</label
                    >
                    <label
                        class="btn"
                        ng-model="currentTab"
                        uib-btn-radio="'Pending'"
                        ng-change="updateTable()"
                        >Pending ({{waitingInventoryTransfers.length}})</label
                    >
                    <label
                        class="btn"
                        ng-model="currentTab"
                        uib-btn-radio="'Completed'"
                        ng-change="updateTable()"
                        >Recently Completed
                    </label>
                </div>
                <table
                    class="table table-bordered table-striped table-hover"
                    ng-show="currentTab == 'Pending'"
                >
                    <thead>
                        <th ng-click="changeSort('origin')">
                            Origin
                            <span
                                ng-show="orderByField == 'origin' && !reverseSort"
                                class="glyphicon glyphicon-chevron-down"
                            ></span>
                            <span
                                ng-show="orderByField == 'origin' && reverseSort"
                                class="glyphicon glyphicon-chevron-up"
                            ></span>
                        </th>

                        <th ng-click="changeSort('destination')">
                            Destination
                            <span
                                ng-show="orderByField == 'destination' && !reverseSort"
                                class="glyphicon glyphicon-chevron-down"
                            ></span>
                            <span
                                ng-show="orderByField == 'destination' && reverseSort"
                                class="glyphicon glyphicon-chevron-up"
                            ></span>
                        </th>
                        <th ng-click="changeSort('techId')">
                            Tech
                            <span
                                ng-show="orderByField == 'techId' && !reverseSort"
                                class="glyphicon glyphicon-chevron-down"
                            ></span>
                            <span
                                ng-show="orderByField == 'techId' && reverseSort"
                                class="glyphicon glyphicon-chevron-up"
                            ></span>
                        </th>
                        <th ng-click="changeSort('parts')">
                            Parts
                            <span
                                ng-show="orderByField == 'parts' && !reverseSort"
                                class="glyphicon glyphicon-chevron-down"
                            ></span>
                            <span
                                ng-show="orderByField == 'parts' && reverseSort"
                                class="glyphicon glyphicon-chevron-up"
                            ></span>
                        </th>
                        <th ng-click="changeSort('inventorytransferDate')">
                            Submitted Date
                            <span
                                ng-show="orderByField == 'inventorytransferDate' && !reverseSort"
                                class="glyphicon glyphicon-chevron-down"
                            ></span>
                            <span
                                ng-show="orderByField == 'inventorytransferDate' && reverseSort"
                                class="glyphicon glyphicon-chevron-up"
                            ></span>
                        </th>
                    </thead>

                    <tbody>
                        <tr
                            ng-repeat="inventoryTransfer in waitingInventoryTransfers | orderBy:orderByField:reverseSort"
                        >
                            <td>{{ inventoryTransfer.origin }}</td>
                            <td>{{ inventoryTransfer.destination }}</td>
                            <td>{{ inventoryTransfer.techId }}</td>
                            <td>{{ inventoryTransfer.parts }}</td>
                            <td>
                                {{ inventoryTransfer.inventorytransferDate |
                                date: 'MM/dd/yyyy': 'UTC'}}
                            </td>
                        </tr>
                    </tbody>
                </table>
                <table
                    class="table table-bordered table-striped table-hover"
                    ng-show="currentTab == 'Completed'"
                >
                    <thead>
                        <tr>
                            <th ng-click="changeSort('origin')">
                                Origin
                                <span
                                    ng-show="orderByField == 'origin' && !reverseSort"
                                    class="glyphicon glyphicon-chevron-down"
                                ></span>
                                <span
                                    ng-show="orderByField == 'origin' && reverseSort"
                                    class="glyphicon glyphicon-chevron-up"
                                ></span>
                            </th>

                            <th ng-click="changeSort('destination')">
                                Destination
                                <span
                                    ng-show="orderByField == 'destination' && !reverseSort"
                                    class="glyphicon glyphicon-chevron-down"
                                ></span>
                                <span
                                    ng-show="orderByField == 'destination' && reverseSort"
                                    class="glyphicon glyphicon-chevron-up"
                                ></span>
                            </th>
                            <th ng-click="changeSort('parts')">
                                Parts
                                <span
                                    ng-show="orderByField == 'parts' && !reverseSort"
                                    class="glyphicon glyphicon-chevron-down"
                                ></span>
                                <span
                                    ng-show="orderByField == 'parts' && reverseSort"
                                    class="glyphicon glyphicon-chevron-up"
                                ></span>
                            </th>
                            <th ng-click="changeSort('inventorytransferDate')">
                                Submitted Date
                                <span
                                    ng-show="orderByField == 'inventorytransferDate' && !reverseSort"
                                    class="glyphicon glyphicon-chevron-down"
                                ></span>
                                <span
                                    ng-show="orderByField == 'inventorytransferDate' && reverseSort"
                                    class="glyphicon glyphicon-chevron-up"
                                ></span>
                            </th>
                            <th ng-click="changeSort('queue_submitted')">
                                Sync Date
                                <span
                                    ng-show="orderByField == 'queue_submitted' && !reverseSort"
                                    class="glyphicon glyphicon-chevron-down"
                                ></span>
                                <span
                                    ng-show="orderByField == 'queue_submitted' && reverseSort"
                                    class="glyphicon glyphicon-chevron-up"
                                ></span>
                            </th>
                        </tr>
                    </thead>

                    <tbody>
                        <tr
                            ng-repeat="inventoryTransfer in completedInventoryTransfers | orderBy:orderByField:reverseSort"
                        >
                            <td>{{ inventoryTransfer.origin }}</td>
                            <td>{{ inventoryTransfer.destination }}</td>
                            <td>{{ inventoryTransfer.parts }}</td>
                            <td>
                                {{ inventoryTransfer.inventorytransferDate |
                                date: 'MM/dd/yyyy': 'UTC'}}
                            </td>
                            <td>
                                {{ inventoryTransfer.queue_submitted | date:
                                'MM/dd/yyyy': 'UTC'}}
                            </td>
                        </tr>
                    </tbody>
                </table>
                <table
                    class="table table-bordered table-striped table-hover"
                    ng-show="currentTab == 'Incomplete'"
                >
                    <thead>
                        <tr>
                            <th ng-click="changeSort('origin')">
                                Origin
                                <span
                                    ng-show="orderByField == 'origin' && !reverseSort"
                                    class="glyphicon glyphicon-chevron-down"
                                ></span>
                                <span
                                    ng-show="orderByField == 'origin' && reverseSort"
                                    class="glyphicon glyphicon-chevron-up"
                                ></span>
                            </th>

                            <th ng-click="changeSort('destination')">
                                Destination
                                <span
                                    ng-show="orderByField == 'destination' && !reverseSort"
                                    class="glyphicon glyphicon-chevron-down"
                                ></span>
                                <span
                                    ng-show="orderByField == 'destination' && reverseSort"
                                    class="glyphicon glyphicon-chevron-up"
                                ></span>
                            </th>
                            <th ng-click="changeSort('parts')">
                                Parts
                                <span
                                    ng-show="orderByField == 'parts' && !reverseSort"
                                    class="glyphicon glyphicon-chevron-down"
                                ></span>
                                <span
                                    ng-show="orderByField == 'parts' && reverseSort"
                                    class="glyphicon glyphicon-chevron-up"
                                ></span>
                            </th>
                            <th ng-click="changeSort('inventorytransferDate')">
                                Submitted Date
                                <span
                                    ng-show="orderByField == 'inventorytransferDate' && !reverseSort"
                                    class="glyphicon glyphicon-chevron-down"
                                ></span>
                                <span
                                    ng-show="orderByField == 'inventorytransferDate' && reverseSort"
                                    class="glyphicon glyphicon-chevron-up"
                                ></span>
                            </th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr
                            ng-repeat="inventoryTransfer in incompletedInventoryTransfers | orderBy:orderByField:reverseSort"
                        >
                            <td>{{ inventoryTransfer.origin }}</td>
                            <td>{{ inventoryTransfer.destination }}</td>
                            <td>{{ inventoryTransfer.parts }}</td>
                            <td>
                                {{ inventoryTransfer.inventorytransferDate |
                                date: 'MM/dd/yyyy': 'UTC'}}
                            </td>
                        </tr>
                    </tbody>
                </table>
                <table
                    class="table table-bordered table-striped table-hover"
                    ng-show="currentTab == 'ManualParts'"
                >
                    <thead>
                        <tr>
                            <th ng-click="changeSort('origin')">
                                Origin
                                <span
                                    ng-show="orderByField == 'origin' && !reverseSort"
                                    class="glyphicon glyphicon-chevron-down"
                                ></span>
                                <span
                                    ng-show="orderByField == 'origin' && reverseSort"
                                    class="glyphicon glyphicon-chevron-up"
                                ></span>
                            </th>

                            <th ng-click="changeSort('destination')">
                                Destination
                                <span
                                    ng-show="orderByField == 'destination' && !reverseSort"
                                    class="glyphicon glyphicon-chevron-down"
                                ></span>
                                <span
                                    ng-show="orderByField == 'destination' && reverseSort"
                                    class="glyphicon glyphicon-chevron-up"
                                ></span>
                            </th>
                            <th ng-click="changeSort('parts')">
                                Parts
                                <span
                                    ng-show="orderByField == 'parts' && !reverseSort"
                                    class="glyphicon glyphicon-chevron-down"
                                ></span>
                                <span
                                    ng-show="orderByField == 'parts' && reverseSort"
                                    class="glyphicon glyphicon-chevron-up"
                                ></span>
                            </th>
                            <th ng-click="changeSort('inventorytransferDate')">
                                Submitted Date
                                <span
                                    ng-show="orderByField == 'inventorytransferDate' && !reverseSort"
                                    class="glyphicon glyphicon-chevron-down"
                                ></span>
                                <span
                                    ng-show="orderByField == 'inventorytransferDate' && reverseSort"
                                    class="glyphicon glyphicon-chevron-up"
                                ></span>
                            </th>
                        </tr>
                    </thead>

                    <tbody>
                        <tr
                            ng-repeat="inventoryTransfer in manualPartsInventoryTransfers | orderBy:orderByField:reverseSort"
                            ng-click="openTransfers(inventoryTransfer._id)"
                        >
                            <td>{{ inventoryTransfer.origin }}</td>
                            <td>{{ inventoryTransfer.destination }}</td>
                            <td>{{ inventoryTransfer.parts }}</td>
                            <td>
                                {{ inventoryTransfer.inventorytransferDate |
                                date: 'MM/dd/yyyy': 'UTC'}}
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>
