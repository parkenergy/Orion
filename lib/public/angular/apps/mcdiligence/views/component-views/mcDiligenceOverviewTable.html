<div id="MCUnitDiligenceOverviewTable"
     class="panel panel-default">
    <div class="panel-heading clearfix">
        <h3 class="panel-title pull-left">Unit Diligence Forms</h3>
    </div>
    <div class="panel-body mcudf-main-dash-body">

        <!-- Search Bar Panel -->
        <div class="col-md-9 mcudf-search-bar">
            <div class="panel panel-default">

                <!-- Title -->
                <div class="panel-heading" data-toggle="collapse" data-target="#mcDiligenceSearch">
                    <h3 class="panel-title">Search</h3>
                    <span class="pull-right">{{$ctrl.mcUnitDiligenceFormCount}}</span>
                </div>

                <!-- collapsible search settings -->
                <div class="panel-body collapse" id="mcDiligenceSearch">
                    <form role="form">
                        <!-- col 1 -->
                        <div class="col-md-6">

                            <!-- row 1 -->
                            <div class="form-group">
                                <label>From</label>
                                <input
                                    class="form-control search"
                                    ng-model="$ctrl.dates.fromInput"
                                    ng-change="$ctrl.startOfDay($ctrl.dates.fromInput)"
                                    name="fromDate" type="date"
                                    placeholder="yyyy-mm-dd">
                            </div>
                            <!-- row 2 -->
                        </div>

                        <!-- col 2 -->
                        <div class="col-md-6">
                            <!-- row 1-->
                            <div class="form-group">
                                <label>To</label>
                                <input
                                    class="form-control search"
                                    ng-model="$ctrl.dates.toInput"
                                    ng-change="$ctrl.endOfDay($ctrl.dates.toInput)"
                                    name="toDate" type="date"
                                    placeholder="yyyy-mm-dd">
                            </div>
                            <!-- row 2 -->
                        </div>
                        <div class="row">
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label>Unit Number</label>
                                    <input id="unitNumber"
                                    class="form-control search"
                                    ng-model="$ctrl.unitNumber"
                                    name="unitNumber"
                                    type="text"/>
                                </div>
                                <button
                                class="btn btn-primary form-inline"
                                type="button"
                                data-toggle="collapse"
                                data-target="#mcDiligenceSearch"
                                ng-click="$ctrl.submit()">
                                Search
                            </button>
                            </div>
                            <div class="col-md-6">
                                    <div class="form-group">
                                        <label>Reviewer</label>
                                        <input 
                                            id="reviewer"
                                            class="form-control search"
                                            ng-model="$ctrl.reviewer"
                                            name="reviewer"
                                            type="text">
                                    </div>
                                    <div class="form-group">
                                            <button
                                                class="btn btn-primary"
                                                type="button"
                                            >
                                                Download
                                            </button>
                                        </div>
                                   
                                </div>                        </div>

                    </form> <!-- End of Search Form -->
                </div>  <!-- End of Search Panel-->


            </div> <!-- End of Search Bar -->
        </div> <!-- End of Search bar body -->

        <!--Start Search Table-->
        <table class="table table-bordered table-striped table-hover">
            <!--Search settings-->
            <thead>
            <tr>

                <!-- Sort by Unit #-->
                <th ng-click="$ctrl.resort('unitNumber')">
                    Unit #
                    <span
                        ng-show="$ctrl.sortType == 'unitNumber' && !$ctrl.sortReverse"
                        class="glyphicon glyphicon-chevron-down"></span>
                    <span
                        ng-show="$ctrl.sortType == 'unitNumber' && $ctrl.sortReverse"
                        class="glyphicon glyphicon-chevron-up"></span>
                </th>

                <th ng-click="$ctrl.resort('reviewer')">
                    Reviewer
                    <span
                        ng-show="$ctrl.sortType == 'reviewer' && !$ctrl.sortReverse"
                        class="glyphicon glyphicon-chevron-down"></span>
                    <span
                        ng-show="$ctrl.sortType == 'reviewer' && $ctrl.sortReverse"
                        class="glyphicon glyphicon-chevron-up"></span>
                </th>

                <th ng-click="$ctrl.resort('engine')">
                    Engine
                    <span
                        ng-show="$ctrl.sortType == 'engine' && !$ctrl.sortReverse"
                        class="glyphicon glyphicon-chevron-down"></span>
                    <span
                        ng-show="$ctrl.sortType == 'engine' && $ctrl.sortReverse"
                        class="glyphicon glyphicon-chevron-up"></span>
                </th>

                <th ng-click="$ctrl.resort('environmentalIssue')">
                    Env Issue
                    <span
                        ng-show="$ctrl.sortType == 'environmentalIssue' && !$ctrl.sortReverse"
                        class="glyphicon glyphicon-chevron-down"></span>
                    <span
                        ng-show="$ctrl.sortType == 'environmentalIssue' && $ctrl.sortReverse"
                        class="glyphicon glyphicon-chevron-up"></span>
                </th>

                <th ng-click="$ctrl.resort('compressor')">
                    Compressor
                    <span
                        ng-show="$ctrl.sortType == 'compressor' && !$ctrl.sortReverse"
                        class="glyphicon glyphicon-chevron-down"></span>
                    <span
                        ng-show="$ctrl.sortType == 'compressor' && $ctrl.sortReverse"
                        class="glyphicon glyphicon-chevron-up"></span>
                </th>

                <th ng-click="$ctrl.resort('applicationType')">
                    App Type
                    <span
                        ng-show="$ctrl.sortType == 'applicationType' && !$ctrl.sortReverse"
                        class="glyphicon glyphicon-chevron-down"></span>
                    <span
                        ng-show="$ctrl.sortType == 'applicationType' && $ctrl.sortReverse"
                        class="glyphicon glyphicon-chevron-up"></span>
                </th>

                <th ng-click="$ctrl.resort('leaseName')">
                    Lease
                    <span
                        ng-show="$ctrl.sortType == 'leaseName' && !$ctrl.sortReverse"
                        class="glyphicon glyphicon-chevron-down"></span>
                    <span
                        ng-show="$ctrl.sortType == 'leaseName' && $ctrl.sortReverse"
                        class="glyphicon glyphicon-chevron-up"></span>
                </th>

                <!-- Sort by Time Created -->
                <th ng-click="$ctrl.resort('epoch')">
                    Time Submitted
                    <span
                        ng-show="$ctrl.sortType == 'epoch' && !$ctrl.sortReverse"
                        class="glyphicon glyphicon-chevron-down"></span>
                    <span
                        ng-show="$ctrl.sortType == 'epoch' && $ctrl.sortReverse"
                        class="glyphicon glyphicon-chevron-up"></span>
                </th>
            </tr>
            </thead>
            <!-- Sorted Table -->
            <tr ng-repeat="mcUnitDiligenceForm in $ctrl.mcUnitDiligenceForms | orderBy:$ctrl.sortType:!$ctrl.sortReverse | filter:$ctrl.searchFilter"
                ng-click="$ctrl.routeToMCDiligenceForm(mcUnitDiligenceForm);">
                <td>{{ mcUnitDiligenceForm.unitNumber }}</td>
                <td>{{ mcUnitDiligenceForm.reviewer }}</td>
                <td>{{ mcUnitDiligenceForm.engine }}</td>
                <td>{{ mcUnitDiligenceForm.environmentalIssue }}</td>
                <td>{{ mcUnitDiligenceForm.compressor }}</td>
                <td>{{ mcUnitDiligenceForm.applicationType }}</td>
                <td>{{ mcUnitDiligenceForm.leaseName }}</td>
                <td>{{ mcUnitDiligenceForm.submitted | date: 'MM/dd/yyyy HH:mm:ss'}}</td>
            </tr>
            </tbody>

        </table>
        <!--End Serch Table-->
    </div>
</div>
