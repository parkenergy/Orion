<div id="PMDash" class="container-fluid">

  <!-- Header info -->
  <div class="panel panel-default">
    <div class="panel-heading clearfix title">
      <h3 class="panel-title pull-left">Park</h3>

      <div class="pull-right status">Active User PM Status: <span class="spaceMe" style="background-color: {{$ctrl.PMS.setBackgroundColor($ctrl.activePMStatus)}}">{{$ctrl.activePMStatus}}%</span></div>
      <div class="pull-right status">Active Unit PM Status: <span class="spaceMe" style="background-color: {{$ctrl.PMS.setBackgroundColor($ctrl.activePMStatus)}}">{{$ctrl.activeUnitPMStatus}}%</span></div>
      <div class="pull-right status1">Active: <span class="spaceMe">{{$ctrl.active}}</span></div>
      <div class="pull-right status1">Test: <span class="spaceMe">{{$ctrl.test}}</span></div>
      <div class="pull-right status1">Idle: <span class="spaceMe">{{$ctrl.idle}}</span></div>
      <div class="pull-right status1">Total: <span class="spaceMe">{{$ctrl.total}}</span></div>
    </div>
  </div>

  <table class="table table-bordered table-striped table-hover">
    <!-- headers -->
    <thead>
      <tr>
        <!-- heading sort click -->
        <th ng-click="$ctrl.resort('locationName')" class="col-xs-2">
          Area
          <span
            ng-show="$ctrl.sortType === 'locationName' && !$ctrl.sortReverse"
            class="glyphicon glyphicon-chevron-down"></span>
          <span
            ng-show="$ctrl.sortType === 'locationName' && $ctrl.sortReverse"
            class="glyphicon glyphicon-chevron-up"></span>
        </th>

        <th ng-click="$ctrl.resort('areaAvg')" class="col-xs-2">
          Current Avg Hours
          <span
            ng-show="$ctrl.sortType === 'areaAvg' && !$ctrl.sortReverse"
            class="glyphicon glyphicon-chevron-down"></span>
          <span
            ng-show="$ctrl.sortType === 'areaAvg' && $ctrl.sortReverse"
            class="glyphicon glyphicon-chevron-up"></span>
        </th>

        <th ng-click="$ctrl.resort('unapproved')" class="col-xs-2 text-center">
          Unapproved / WOs
          <span
            ng-show="$ctrl.sortType === 'unapproved' && !$ctrl.sortReverse"
            class="glyphicon glyphicon-chevron-down"></span>
          <span
            ng-show="$ctrl.sortType === 'unapproved' && $ctrl.sortReverse"
            class="glyphicon glyphicon-chevron-up"></span>
        </th>

        <th ng-click="$ctrl.resort('activeUnits')" class="col-xs-2 text-center">
          Active Units
          <span
            ng-show="$ctrl.sortType === 'activeUnits' && !$ctrl.sortReverse"
            class="glyphicon glyphicon-chevron-down"></span>
          <span
            ng-show="$ctrl.sortType === 'activeUnits' && $ctrl.sortReverse"
            class="glyphicon glyphicon-chevron-up"></span>
        </th>

        <th ng-click="$ctrl.resort('unitPercent')" class="col-xs-2 text-center">
          Unit Percent
          <span
            ng-show="$ctrl.sortType === 'unitPercent' && !$ctrl.sortReverse"
            class="glyphicon glyphicon-chevron-down"></span>
          <span
            ng-show="$ctrl.sortType === 'unitPercent' && $ctrl.sortReverse"
            class="glyphicon glyphicon-chevron-up"></span>
        </th>

        <th ng-click="$ctrl.resort('percent')" class="col-xs-2 text-center">
          User Percent
          <span
            ng-show="$ctrl.sortType === 'percent' && !$ctrl.sortReverse"
            class="glyphicon glyphicon-chevron-down"></span>
          <span
            ng-show="$ctrl.sortType === 'percent' && $ctrl.sortReverse"
            class="glyphicon glyphicon-chevron-up"></span>
        </th>

      </tr>
    </thead>

    <!-- Sorted Table -->
    <tbody>
      <tr ng-repeat="area in $ctrl.areas | orderBy:$ctrl.sortType:!$ctrl.sortReverse"
        ng-click="$ctrl.routeToArea(area)">
        <td>{{ area.locationName }}</td>
        <td class="text-center">{{ area.areaAvg }}</td>
        <td class="text-center">{{ area.unapproved }}</td>
        <td class="text-center">{{ area.activeUnits }}</td>
        <td class="text-center" style="background-color: {{$ctrl.PMS.setBackgroundColor(area.percent)}}">{{ area.unitPercent }}%</td>
        <td class="text-center" style="background-color: {{$ctrl.PMS.setBackgroundColor(area.percent)}}">{{ area.percent }}%</td>
      </tr>
    </tbody>

  </table>

</div>
